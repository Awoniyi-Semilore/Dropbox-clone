!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="641b0b96-89ee-3c4d-9e22-446eea17d3a6")}catch(e){}}();
define(["require","exports","./e_edison","./e_warp_warp_page_edison","./c_chat_chat_constants","./c_init_data_edison","./e_core_exception","./c_core_i18n","react","./c_src_sink_index","./c_init_data_debug_panel","./e_data_modules_stormcrow","./c_hooks_useStorageDarkSetting"],(function(e,n,t,o,i,a,r,s,E,_,c,l,d){"use strict";class m extends i.Message{constructor(e){super(),this.userAgent="",this.sessionId="",this.anonIp="",this.localeUserSelected="",this.localeBrowserHeader="",this.country="",this.uaBrowserName="",this.uaBrowserVersion="",this.uaOsName="",this.uaOsVersion="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new m).fromBinary(e,n)}static fromJson(e,n){return(new m).fromJson(e,n)}static fromJsonString(e,n){return(new m).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(m,e,n)}}var A,u,p,C,T,h,I,N,g,S,f,R;m.runtime=i.proto3,m.typeName="ccpa_data.CCPALogContext",m.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"user_agent",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"anon_ip",kind:"scalar",T:9},{no:4,name:"locale_user_selected",kind:"scalar",T:9},{no:5,name:"locale_browser_header",kind:"scalar",T:9},{no:6,name:"country",kind:"scalar",T:9},{no:7,name:"ua_browser_name",kind:"scalar",T:9},{no:8,name:"ua_browser_version",kind:"scalar",T:9},{no:9,name:"ua_os_name",kind:"scalar",T:9},{no:10,name:"ua_os_version",kind:"scalar",T:9}])),n.UserDNSInitState=void 0,(A=n.UserDNSInitState||(n.UserDNSInitState={}))[A.UNKNOWN=0]="UNKNOWN",A[A.LOGGED_OUT_NOT_ENROLLED=1]="LOGGED_OUT_NOT_ENROLLED",A[A.LOGGED_IN_NOT_ENROLLED=2]="LOGGED_IN_NOT_ENROLLED",A[A.LOGGED_OUT_EMAIL_PENDING=3]="LOGGED_OUT_EMAIL_PENDING",A[A.LOGGED_OUT_ENROLLED=4]="LOGGED_OUT_ENROLLED",A[A.LOGGED_IN_EMAIL_PENDING=5]="LOGGED_IN_EMAIL_PENDING",A[A.LOGGED_IN_ENROLLED=6]="LOGGED_IN_ENROLLED",A[A.LOGGED_OUT_GPC_ENABLED=7]="LOGGED_OUT_GPC_ENABLED",A[A.CROSS_ORIGIN_ENROLLED=8]="CROSS_ORIGIN_ENROLLED",A[A.ENROLLED_VIA_COOKIES=9]="ENROLLED_VIA_COOKIES",i.proto3.util.setEnumType(n.UserDNSInitState,"privacy_consent.UserDNSInitState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT_NOT_ENROLLED"},{no:2,name:"LOGGED_IN_NOT_ENROLLED"},{no:3,name:"LOGGED_OUT_EMAIL_PENDING"},{no:4,name:"LOGGED_OUT_ENROLLED"},{no:5,name:"LOGGED_IN_EMAIL_PENDING"},{no:6,name:"LOGGED_IN_ENROLLED"},{no:7,name:"LOGGED_OUT_GPC_ENABLED"},{no:8,name:"CROSS_ORIGIN_ENROLLED"},{no:9,name:"ENROLLED_VIA_COOKIES"}]);class O extends i.Message{constructor(e){super(),this.countryCode="",this.loggedInState=u.UNKNOWN,this.isDefaultNonCcpaEnabled=!1,this.isBannerDisabled=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new O).fromBinary(e,n)}static fromJson(e,n){return(new O).fromJson(e,n)}static fromJsonString(e,n){return(new O).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(O,e,n)}}O.runtime=i.proto3,O.typeName="privacy_consent.PrivacyConsentInitData",O.fields=i.proto3.util.newFieldList((()=>[{no:2,name:"country_code",kind:"scalar",T:9},{no:4,name:"logged_in_state",kind:"enum",T:i.proto3.getEnumType(u)},{no:6,name:"is_default_non_ccpa_enabled",kind:"scalar",T:8},{no:8,name:"is_banner_disabled",kind:"scalar",T:8}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOGGED_OUT=1]="LOGGED_OUT",e[e.LOGGED_IN=2]="LOGGED_IN"}(u||(u={})),i.proto3.util.setEnumType(u,"privacy_consent.PrivacyConsentInitData.LoggedInState",[{no:0,name:"UNKNOWN"},{no:1,name:"LOGGED_OUT"},{no:2,name:"LOGGED_IN"}]);class M extends i.Message{constructor(e){super(),this.dnsState=n.UserDNSInitState.UNKNOWN,this.userEmails=[],this.verifiedEmails=[],this.unverifiedEmails=[],this.ccpaToken="",this.isGpcEnabled=!1,this.csrfToken="",this.defaultNonCcpaToggleState=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new M).fromBinary(e,n)}static fromJson(e,n){return(new M).fromJson(e,n)}static fromJsonString(e,n){return(new M).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(M,e,n)}}M.runtime=i.proto3,M.typeName="privacy_consent.CCPAIFrameInitData",M.fields=i.proto3.util.newFieldList((()=>[{no:2,name:"dns_state",kind:"enum",T:i.proto3.getEnumType(n.UserDNSInitState)},{no:3,name:"user_emails",kind:"scalar",T:9,repeated:!0},{no:4,name:"verified_emails",kind:"scalar",T:9,repeated:!0},{no:5,name:"unverified_emails",kind:"scalar",T:9,repeated:!0},{no:6,name:"logging_context",kind:"message",T:m},{no:7,name:"ccpa_token",kind:"scalar",T:9},{no:8,name:"is_gpc_enabled",kind:"scalar",T:8},{no:10,name:"csrf_token",kind:"scalar",T:9},{no:11,name:"default_non_ccpa_toggle_state",kind:"scalar",T:8}]));class P extends i.Message{constructor(e){super(),this.confirmationStatus=p.UNKNOWN,this.userEmailToken="",this.countryCode="",this.locale="",this.hasError=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new P).fromBinary(e,n)}static fromJson(e,n){return(new P).fromJson(e,n)}static fromJsonString(e,n){return(new P).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(P,e,n)}}P.runtime=i.proto3,P.typeName="privacy_consent.CCPADNSVerificationInitData",P.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"confirmation_status",kind:"enum",T:i.proto3.getEnumType(p)},{no:2,name:"user_email_token",kind:"scalar",T:9},{no:3,name:"country_code",kind:"scalar",T:9},{no:4,name:"locale",kind:"scalar",T:9},{no:5,name:"has_error",kind:"scalar",T:8},{no:6,name:"web_timing_logger_server_context",kind:"message",T:o.WebTimingLoggerServerContext}])),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CONFIRMED=1]="CONFIRMED",e[e.CANCELED=2]="CANCELED",e[e.PENDING=3]="PENDING"}(p||(p={})),i.proto3.util.setEnumType(p,"privacy_consent.CCPADNSVerificationInitData.DNSVerificationStatus",[{no:0,name:"UNKNOWN"},{no:1,name:"CONFIRMED"},{no:2,name:"CANCELED"},{no:3,name:"PENDING"}]),function(e){e[e.NONE=0]="NONE",e[e.DB_ADMIN=1]="DB_ADMIN"}(C||(C={})),i.proto3.util.setEnumType(C,"web_enums.ActingToken",[{no:0,name:"ACTING_TOKEN_NONE"},{no:1,name:"ACTING_TOKEN_DB_ADMIN"}]),function(e){e[e.GUEST_ADMIN_NONE=0]="GUEST_ADMIN_NONE",e[e.GUEST_ADMIN_RESELLER=1]="GUEST_ADMIN_RESELLER",e[e.GUEST_ADMIN_MTIA=2]="GUEST_ADMIN_MTIA",e[e.GUEST_ADMIN_FEDERATION_ON_BEHALF_OF_TEAM=3]="GUEST_ADMIN_FEDERATION_ON_BEHALF_OF_TEAM",e[e.GUEST_ADMIN_DROPBOXER_ASSUME_TEAM=4]="GUEST_ADMIN_DROPBOXER_ASSUME_TEAM"}(T||(T={})),i.proto3.util.setEnumType(T,"web_enums.GuestAdminType",[{no:0,name:"GUEST_ADMIN_NONE"},{no:1,name:"GUEST_ADMIN_RESELLER"},{no:2,name:"GUEST_ADMIN_MTIA"},{no:3,name:"GUEST_ADMIN_FEDERATION_ON_BEHALF_OF_TEAM"},{no:4,name:"GUEST_ADMIN_DROPBOXER_ASSUME_TEAM"}]),function(e){e[e.ROLE_NONE=0]="ROLE_NONE",e[e.ROLE_WORK=1]="ROLE_WORK",e[e.ROLE_PERSONAL=2]="ROLE_PERSONAL",e[e.ROLE_PHOTOS=3]="ROLE_PHOTOS",e[e.ROLE_PREFERRED_PRO=4]="ROLE_PREFERRED_PRO"}(h||(h={})),i.proto3.util.setEnumType(h,"web_enums.RoleConstants",[{no:0,name:"ROLE_NONE"},{no:1,name:"ROLE_WORK"},{no:2,name:"ROLE_PERSONAL"},{no:3,name:"ROLE_PHOTOS"},{no:4,name:"ROLE_PREFERRED_PRO"}]),function(e){e[e.PREAUTH_NONE=0]="PREAUTH_NONE",e[e.PREAUTH_DISABLED=1]="PREAUTH_DISABLED",e[e.PREAUTH_PRO_UPGRADE=2]="PREAUTH_PRO_UPGRADE",e[e.PREAUTH_BILLING_INFO=3]="PREAUTH_BILLING_INFO",e[e.PREAUTH_PAYWALL_DEVICE=4]="PREAUTH_PAYWALL_DEVICE",e[e.PREAUTH_PRO_OVERQUOTA=5]="PREAUTH_PRO_OVERQUOTA",e[e.PREAUTH_BASIC_NEARQUOTA=6]="PREAUTH_BASIC_NEARQUOTA",e[e.PREAUTH_BASIC_OVERQUOTA=7]="PREAUTH_BASIC_OVERQUOTA",e[e.PREAUTH_INDIVIDUAL_UPGRADE=8]="PREAUTH_INDIVIDUAL_UPGRADE",e[e.PREAUTH_SPECIAL_OFFER=9]="PREAUTH_SPECIAL_OFFER",e[e.PREAUTH_TEAM_RENEW=10]="PREAUTH_TEAM_RENEW",e[e.PREAUTH_TEAM_BUSINESS_BILLING_NCCT=11]="PREAUTH_TEAM_BUSINESS_BILLING_NCCT"}(I||(I={})),i.proto3.util.setEnumType(I,"web_enums.PreauthType",[{no:0,name:"PREAUTH_NONE"},{no:1,name:"PREAUTH_DISABLED"},{no:2,name:"PREAUTH_PRO_UPGRADE"},{no:3,name:"PREAUTH_BILLING_INFO"},{no:4,name:"PREAUTH_PAYWALL_DEVICE"},{no:5,name:"PREAUTH_PRO_OVERQUOTA"},{no:6,name:"PREAUTH_BASIC_NEARQUOTA"},{no:7,name:"PREAUTH_BASIC_OVERQUOTA"},{no:8,name:"PREAUTH_INDIVIDUAL_UPGRADE"},{no:9,name:"PREAUTH_SPECIAL_OFFER"},{no:10,name:"PREAUTH_TEAM_RENEW"},{no:11,name:"PREAUTH_TEAM_BUSINESS_BILLING_NCCT"}]);class L extends i.Message{constructor(e){super(),i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new L).fromBinary(e,n)}static fromJson(e,n){return(new L).fromJson(e,n)}static fromJsonString(e,n){return(new L).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(L,e,n)}}L.runtime=i.proto3,L.typeName="iam_types.TeamFeatures",L.fields=i.proto3.util.newFieldList((()=>[])),function(e){e[e.UNKNOWN_FEATURE=0]="UNKNOWN_FEATURE",e[e.VIEW_TEAM=1]="VIEW_TEAM",e[e.VIEW_TEAM_BILLING=2]="VIEW_TEAM_BILLING",e[e.VIEW_ACCOUNT_ACTIVITIES=3]="VIEW_ACCOUNT_ACTIVITIES",e[e.VIEW_ACCOUNT_ACTIVITIES_NAV=4]="VIEW_ACCOUNT_ACTIVITIES_NAV",e[e.VIEW_TEAM_SECURITY=5]="VIEW_TEAM_SECURITY",e[e.VIEW_TEAM_FOLDER_SETTINGS=6]="VIEW_TEAM_FOLDER_SETTINGS",e[e.VIEW_TEAM_REQUESTS=7]="VIEW_TEAM_REQUESTS",e[e.VIEW_HELP=8]="VIEW_HELP",e[e.VIEW_DASHBOARD=9]="VIEW_DASHBOARD",e[e.VIEW_SINGLE_MEMBER=10]="VIEW_SINGLE_MEMBER",e[e.BASIC_ADMIN=11]="BASIC_ADMIN",e[e.SECURITY_ADMIN=12]="SECURITY_ADMIN",e[e.CHANGE_TEAM_BILLING=13]="CHANGE_TEAM_BILLING",e[e.CHANGE_TEAM_NAME=14]="CHANGE_TEAM_NAME",e[e.CHANGE_TEAM_REQUEST_MEMBERSHIP_POLICY=15]="CHANGE_TEAM_REQUEST_MEMBERSHIP_POLICY",e[e.DOMAIN_INVITES=16]="DOMAIN_INVITES",e[e.DOMAIN_MANAGEMENT=17]="DOMAIN_MANAGEMENT",e[e.INFINITE_ADMIN=18]="INFINITE_ADMIN",e[e.TEAM_FOLDER_ADMIN=19]="TEAM_FOLDER_ADMIN",e[e.LINK_TEAM_APPS=20]="LINK_TEAM_APPS",e[e.ENROLL_EARLY_ACCESS=21]="ENROLL_EARLY_ACCESS",e[e.SIGN_HIPAA_BAA=22]="SIGN_HIPAA_BAA",e[e.TEAM_SETTINGS=23]="TEAM_SETTINGS",e[e.ADD_TEAM_MEMBER=24]="ADD_TEAM_MEMBER",e[e.REMOVE_TEAM_MEMBER=25]="REMOVE_TEAM_MEMBER",e[e.RECOVER_TEAM_MEMBER=26]="RECOVER_TEAM_MEMBER",e[e.UNSUSPEND_TEAM_MEMBER=27]="UNSUSPEND_TEAM_MEMBER",e[e.HANDLE_JOIN_REQUEST=28]="HANDLE_JOIN_REQUEST",e[e.MANAGE_MEMBER_FILES=29]="MANAGE_MEMBER_FILES",e[e.CHANGE_TEAM_MEMBER_EMAIL=30]="CHANGE_TEAM_MEMBER_EMAIL",e[e.RESET_MEMBER_PASSWORD=31]="RESET_MEMBER_PASSWORD",e[e.MANAGE_MEMBER_SESSIONS=32]="MANAGE_MEMBER_SESSIONS",e[e.VIEW_MEMBER_ACTIVITIES=33]="VIEW_MEMBER_ACTIVITIES",e[e.LOG_MEMBER_ACTIVITIES=34]="LOG_MEMBER_ACTIVITIES",e[e.CHANGE_MEMBERSHIP_TYPE=35]="CHANGE_MEMBERSHIP_TYPE",e[e.ASSUME_USER=36]="ASSUME_USER",e[e.ADMIN_MANAGEMENT=37]="ADMIN_MANAGEMENT",e[e.CANCEL_LICENSE_REQUEST=38]="CANCEL_LICENSE_REQUEST",e[e.PERMANENTLY_DELETE_FILES=39]="PERMANENTLY_DELETE_FILES",e[e.ACTIVATE_NOTES=40]="ACTIVATE_NOTES",e[e.VIEW_NOTES_POLICIES=41]="VIEW_NOTES_POLICIES",e[e.CHANGE_TEAM_LOGO=42]="CHANGE_TEAM_LOGO",e[e.REMOVE_TEAM_LOGO=43]="REMOVE_TEAM_LOGO",e[e.DELETE_TEAM=44]="DELETE_TEAM",e[e.DISBAND_TEAM=45]="DISBAND_TEAM",e[e.EXTEND_TEAM_TRIAL=46]="EXTEND_TEAM_TRIAL",e[e.ACTIVATE_SHOWCASE=47]="ACTIVATE_SHOWCASE",e[e.VIEW_SHOWCASE_POLICIES=48]="VIEW_SHOWCASE_POLICIES",e[e.CAN_UPGRADE_TEAM=49]="CAN_UPGRADE_TEAM",e[e.VIEW_ADMIN_CONSOLE_LITE=50]="VIEW_ADMIN_CONSOLE_LITE",e[e.VIEW_ADMIN_CONSOLE=51]="VIEW_ADMIN_CONSOLE",e[e.VIEW_MEMBER_REQUEST_NOTIFICATIONS=52]="VIEW_MEMBER_REQUEST_NOTIFICATIONS",e[e.DISABLE_SHMODEL_TOKEN=53]="DISABLE_SHMODEL_TOKEN",e[e.MEMBER_SPACE_LIMITS=54]="MEMBER_SPACE_LIMITS",e[e.MEMBER_SPACE_LIMITS_CUSTOM_QUOTA=55]="MEMBER_SPACE_LIMITS_CUSTOM_QUOTA",e[e.MANAGE_GROUPS=56]="MANAGE_GROUPS",e[e.MEMBERS_EXPORT=57]="MEMBERS_EXPORT",e[e.MANAGE_DIRECTORY_RESTRICTIONS=58]="MANAGE_DIRECTORY_RESTRICTIONS",e[e.SECONDARY_MAILS_FEATURE=59]="SECONDARY_MAILS_FEATURE",e[e.CAMERA_UPLOADS_FEATURE=60]="CAMERA_UPLOADS_FEATURE",e[e.VIEW_HANDSHAKE_FEATURE=61]="VIEW_HANDSHAKE_FEATURE",e[e.TEAM_WHITELIST=62]="TEAM_WHITELIST",e[e.MTIA_LOGIN=63]="MTIA_LOGIN",e[e.MANAGE_HANDSHAKE_FEATURE=64]="MANAGE_HANDSHAKE_FEATURE",e[e.VIEW_FEDERATION_CONSOLE=65]="VIEW_FEDERATION_CONSOLE",e[e.MANAGE_FEDERATION_HANDSHAKE_FEATURE=66]="MANAGE_FEDERATION_HANDSHAKE_FEATURE",e[e.FILE_LOCKING_FEATURE=67]="FILE_LOCKING_FEATURE",e[e.UNLOCK_USER=68]="UNLOCK_USER",e[e.GENERATE_DASHBOARD_REPORT=69]="GENERATE_DASHBOARD_REPORT",e[e.GENERATE_EXTERNAL_SHARING_REPORT=70]="GENERATE_EXTERNAL_SHARING_REPORT",e[e.TEAM_MEMBER_TRANSFER_FEATURE=71]="TEAM_MEMBER_TRANSFER_FEATURE",e[e.CLASSIFICATION=73]="CLASSIFICATION",e[e.CHANGE_TEAM_BACKGROUND=74]="CHANGE_TEAM_BACKGROUND",e[e.REMOVE_TEAM_BACKGROUND=75]="REMOVE_TEAM_BACKGROUND",e[e.MANAGE_RESELLERS=76]="MANAGE_RESELLERS",e[e.VIEW_CUSTOMER_CONSOLE=77]="VIEW_CUSTOMER_CONSOLE",e[e.MANAGE_CUSTOMER_TEAM=78]="MANAGE_CUSTOMER_TEAM",e[e.DATA_GOVERNANCE=79]="DATA_GOVERNANCE",e[e.VIEW_DATA_GOVERNANCE=80]="VIEW_DATA_GOVERNANCE",e[e.MANAGE_DATA_GOVERNANCE=81]="MANAGE_DATA_GOVERNANCE",e[e.MANAGE_APP_PERMISSIONS=82]="MANAGE_APP_PERMISSIONS",e[e.MANAGE_BACKUPS=83]="MANAGE_BACKUPS",e[e.MANAGED_METADATA=84]="MANAGED_METADATA",e[e.MANUAL_CLASSIFICATION=85]="MANUAL_CLASSIFICATION",e[e.ENCRYPTED_FOLDER=86]="ENCRYPTED_FOLDER",e[e.GENERATE_STORAGE_REPORT=87]="GENERATE_STORAGE_REPORT",e[e.MANAGE_LABELS=88]="MANAGE_LABELS",e[e.VIEW_SETTINGS_PAGE=89]="VIEW_SETTINGS_PAGE",e[e.VIEW_GROUPS_PAGE=90]="VIEW_GROUPS_PAGE",e[e.VIEW_SECURITY_PAGE=91]="VIEW_SECURITY_PAGE",e[e.VIEW_CONTENT_PAGE=92]="VIEW_CONTENT_PAGE",e[e.MANAGE_SHARING_SETTINGS=93]="MANAGE_SHARING_SETTINGS",e[e.MANAGE_MEMBERSHIP_APPROVAL=94]="MANAGE_MEMBERSHIP_APPROVAL",e[e.MANAGE_REPLAY_SETTINGS=95]="MANAGE_REPLAY_SETTINGS",e[e.MANAGE_UPGRADES=96]="MANAGE_UPGRADES",e[e.VIEW_PROTECT_AND_CONTROL=97]="VIEW_PROTECT_AND_CONTROL"}(N||(N={})),i.proto3.util.setEnumType(N,"iam_types.TeamFeatures.Enum",[{no:0,name:"UNKNOWN_FEATURE"},{no:1,name:"VIEW_TEAM"},{no:2,name:"VIEW_TEAM_BILLING"},{no:3,name:"VIEW_ACCOUNT_ACTIVITIES"},{no:4,name:"VIEW_ACCOUNT_ACTIVITIES_NAV"},{no:5,name:"VIEW_TEAM_SECURITY"},{no:6,name:"VIEW_TEAM_FOLDER_SETTINGS"},{no:7,name:"VIEW_TEAM_REQUESTS"},{no:8,name:"VIEW_HELP"},{no:9,name:"VIEW_DASHBOARD"},{no:10,name:"VIEW_SINGLE_MEMBER"},{no:11,name:"BASIC_ADMIN"},{no:12,name:"SECURITY_ADMIN"},{no:13,name:"CHANGE_TEAM_BILLING"},{no:14,name:"CHANGE_TEAM_NAME"},{no:15,name:"CHANGE_TEAM_REQUEST_MEMBERSHIP_POLICY"},{no:16,name:"DOMAIN_INVITES"},{no:17,name:"DOMAIN_MANAGEMENT"},{no:18,name:"INFINITE_ADMIN"},{no:19,name:"TEAM_FOLDER_ADMIN"},{no:20,name:"LINK_TEAM_APPS"},{no:21,name:"ENROLL_EARLY_ACCESS"},{no:22,name:"SIGN_HIPAA_BAA"},{no:23,name:"TEAM_SETTINGS"},{no:24,name:"ADD_TEAM_MEMBER"},{no:25,name:"REMOVE_TEAM_MEMBER"},{no:26,name:"RECOVER_TEAM_MEMBER"},{no:27,name:"UNSUSPEND_TEAM_MEMBER"},{no:28,name:"HANDLE_JOIN_REQUEST"},{no:29,name:"MANAGE_MEMBER_FILES"},{no:30,name:"CHANGE_TEAM_MEMBER_EMAIL"},{no:31,name:"RESET_MEMBER_PASSWORD"},{no:32,name:"MANAGE_MEMBER_SESSIONS"},{no:33,name:"VIEW_MEMBER_ACTIVITIES"},{no:34,name:"LOG_MEMBER_ACTIVITIES"},{no:35,name:"CHANGE_MEMBERSHIP_TYPE"},{no:36,name:"ASSUME_USER"},{no:37,name:"ADMIN_MANAGEMENT"},{no:38,name:"CANCEL_LICENSE_REQUEST"},{no:39,name:"PERMANENTLY_DELETE_FILES"},{no:40,name:"ACTIVATE_NOTES"},{no:41,name:"VIEW_NOTES_POLICIES"},{no:42,name:"CHANGE_TEAM_LOGO"},{no:43,name:"REMOVE_TEAM_LOGO"},{no:44,name:"DELETE_TEAM"},{no:45,name:"DISBAND_TEAM"},{no:46,name:"EXTEND_TEAM_TRIAL"},{no:47,name:"ACTIVATE_SHOWCASE"},{no:48,name:"VIEW_SHOWCASE_POLICIES"},{no:49,name:"CAN_UPGRADE_TEAM"},{no:50,name:"VIEW_ADMIN_CONSOLE_LITE"},{no:51,name:"VIEW_ADMIN_CONSOLE"},{no:52,name:"VIEW_MEMBER_REQUEST_NOTIFICATIONS"},{no:53,name:"DISABLE_SHMODEL_TOKEN"},{no:54,name:"MEMBER_SPACE_LIMITS"},{no:55,name:"MEMBER_SPACE_LIMITS_CUSTOM_QUOTA"},{no:56,name:"MANAGE_GROUPS"},{no:57,name:"MEMBERS_EXPORT"},{no:58,name:"MANAGE_DIRECTORY_RESTRICTIONS"},{no:59,name:"SECONDARY_MAILS_FEATURE"},{no:60,name:"CAMERA_UPLOADS_FEATURE"},{no:61,name:"VIEW_HANDSHAKE_FEATURE"},{no:62,name:"TEAM_WHITELIST"},{no:63,name:"MTIA_LOGIN"},{no:64,name:"MANAGE_HANDSHAKE_FEATURE"},{no:65,name:"VIEW_FEDERATION_CONSOLE"},{no:66,name:"MANAGE_FEDERATION_HANDSHAKE_FEATURE"},{no:67,name:"FILE_LOCKING_FEATURE"},{no:68,name:"UNLOCK_USER"},{no:69,name:"GENERATE_DASHBOARD_REPORT"},{no:70,name:"GENERATE_EXTERNAL_SHARING_REPORT"},{no:71,name:"TEAM_MEMBER_TRANSFER_FEATURE"},{no:73,name:"CLASSIFICATION"},{no:74,name:"CHANGE_TEAM_BACKGROUND"},{no:75,name:"REMOVE_TEAM_BACKGROUND"},{no:76,name:"MANAGE_RESELLERS"},{no:77,name:"VIEW_CUSTOMER_CONSOLE"},{no:78,name:"MANAGE_CUSTOMER_TEAM"},{no:79,name:"DATA_GOVERNANCE"},{no:80,name:"VIEW_DATA_GOVERNANCE"},{no:81,name:"MANAGE_DATA_GOVERNANCE"},{no:82,name:"MANAGE_APP_PERMISSIONS"},{no:83,name:"MANAGE_BACKUPS"},{no:84,name:"MANAGED_METADATA"},{no:85,name:"MANUAL_CLASSIFICATION"},{no:86,name:"ENCRYPTED_FOLDER"},{no:87,name:"GENERATE_STORAGE_REPORT"},{no:88,name:"MANAGE_LABELS"},{no:89,name:"VIEW_SETTINGS_PAGE"},{no:90,name:"VIEW_GROUPS_PAGE"},{no:91,name:"VIEW_SECURITY_PAGE"},{no:92,name:"VIEW_CONTENT_PAGE"},{no:93,name:"MANAGE_SHARING_SETTINGS"},{no:94,name:"MANAGE_MEMBERSHIP_APPROVAL"},{no:95,name:"MANAGE_REPLAY_SETTINGS"},{no:96,name:"MANAGE_UPGRADES"},{no:97,name:"VIEW_PROTECT_AND_CONTROL"}]),function(e){e[e.NO_USER_TO_SELECT=0]="NO_USER_TO_SELECT",e[e.MAESTRO=1]="MAESTRO",e[e.UID_AWARE=2]="UID_AWARE",e[e.FORCE_ROLE=3]="FORCE_ROLE",e[e.SELECT_DBADMIN=4]="SELECT_DBADMIN",e[e.UID_AWARE_OPTIONAL=5]="UID_AWARE_OPTIONAL"}(g||(g={})),i.proto3.util.setEnumType(g,"web_auth_lib.UserSelectionMode",[{no:0,name:"NO_USER_TO_SELECT"},{no:1,name:"MAESTRO"},{no:2,name:"UID_AWARE"},{no:3,name:"FORCE_ROLE"},{no:4,name:"SELECT_DBADMIN"},{no:5,name:"UID_AWARE_OPTIONAL"}]);class D extends i.Message{constructor(e){super(),this.mode=g.NO_USER_TO_SELECT,this.sessionOptional=!1,this.allowedRoles=[],this.migrationRole=h.ROLE_NONE,this.forcedRole=h.ROLE_NONE,this.redirectOnPairing=!1,this.requiredTeamFeature=N.UNKNOWN_FEATURE,this.dropboxAdminOptional=!1,this.supportUserParam="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new D).fromBinary(e,n)}static fromJson(e,n){return(new D).fromJson(e,n)}static fromJsonString(e,n){return(new D).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(D,e,n)}}D.runtime=i.proto3,D.typeName="web_auth_lib.UserSelection",D.fields=i.proto3.util.newFieldList((()=>[{no:6,name:"mode",kind:"enum",T:i.proto3.getEnumType(g)},{no:7,name:"session_optional",kind:"scalar",T:8},{no:8,name:"allowed_roles",kind:"enum",T:i.proto3.getEnumType(h),repeated:!0},{no:9,name:"migration_role",kind:"enum",T:i.proto3.getEnumType(h)},{no:10,name:"forced_role",kind:"enum",T:i.proto3.getEnumType(h)},{no:11,name:"redirect_on_pairing",kind:"scalar",T:8},{no:14,name:"required_team_feature",kind:"enum",T:i.proto3.getEnumType(N)},{no:12,name:"dropbox_admin_optional",kind:"scalar",T:8},{no:13,name:"support_user_param",kind:"scalar",T:9}])),function(e){e[e.NONE=0]="NONE",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(S||(S={})),i.proto3.util.setEnumType(S,"web_auth_lib.FlashMessagePrefix",[{no:0,name:"NONE"},{no:1,name:"OK"},{no:2,name:"ERROR"}]);class y extends i.Message{constructor(e){super(),this.message="",this.messagePrefix=S.NONE,this.urlTypes={case:void 0},i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new y).fromBinary(e,n)}static fromJson(e,n){return(new y).fromJson(e,n)}static fromJsonString(e,n){return(new y).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(y,e,n)}}y.runtime=i.proto3,y.typeName="web_auth_lib.AuthRedirect",y.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"message",kind:"scalar",T:9},{no:2,name:"message_prefix",kind:"enum",T:i.proto3.getEnumType(S)},{no:3,name:"redirect_url",kind:"scalar",T:9,oneof:"url_types"},{no:4,name:"unsafe_redirect_url",kind:"scalar",T:9,oneof:"url_types"}]));class k extends i.Message{constructor(e){super(),this.acceptsActors=[],this.allowCrosssite=!1,this.allowSandboxCsrfCheck=!1,this.checkpointOrUserRequired=!1,this.enableForGuestAdminTypes=[],this.isForbiddenDuringTeamAssumeUserSession=!1,this.preauthTypes=[],this.skipCsrfCheck=!1,this.skipOriginCheckInCsrfCheck=!1,this.enforceSubjectTeamId=!1,this.isFederationRoute=!1,this.allowAccountCaptureRedirect=!1,this.checkDbadminPermission=!1,this.allowOauthWithViewerBridge=!1,this.requireRecentReauth=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new k).fromBinary(e,n)}static fromJson(e,n){return(new k).fromJson(e,n)}static fromJsonString(e,n){return(new k).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(k,e,n)}}k.runtime=i.proto3,k.typeName="web_auth_lib.AuthOptions",k.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"accepts_actors",kind:"enum",T:i.proto3.getEnumType(C),repeated:!0},{no:2,name:"allow_crosssite",kind:"scalar",T:8},{no:4,name:"allow_sandbox_csrf_check",kind:"scalar",T:8},{no:5,name:"checkpoint_or_user_required",kind:"scalar",T:8},{no:6,name:"enable_for_guest_admin_types",kind:"enum",T:i.proto3.getEnumType(T),repeated:!0},{no:8,name:"is_forbidden_during_team_assume_user_session",kind:"scalar",T:8},{no:11,name:"preauth_types",kind:"enum",T:i.proto3.getEnumType(I),repeated:!0},{no:14,name:"skip_csrf_check",kind:"scalar",T:8},{no:15,name:"skip_origin_check_in_csrf_check",kind:"scalar",T:8},{no:19,name:"enforce_subject_team_id",kind:"scalar",T:8},{no:20,name:"is_federation_route",kind:"scalar",T:8},{no:21,name:"user_selection",kind:"message",T:D},{no:22,name:"allow_account_capture_redirect",kind:"scalar",T:8},{no:23,name:"check_dbadmin_permission",kind:"scalar",T:8},{no:24,name:"allow_oauth_with_viewer_bridge",kind:"scalar",T:8},{no:25,name:"require_recent_reauth",kind:"scalar",T:8}]));class v extends i.Message{constructor(e){super(),this.cssSelector="",this.pathVariables={},this.queryArgs={},this.userAccount="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new v).fromBinary(e,n)}static fromJson(e,n){return(new v).fromJson(e,n)}static fromJsonString(e,n){return(new v).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(v,e,n)}}v.runtime=i.proto3,v.typeName="page_checker.PageCheckerConfig",v.fields=i.proto3.util.newFieldList((()=>[{no:3,name:"css_selector",kind:"scalar",T:9},{no:4,name:"path_variables",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:5,name:"query_args",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:6,name:"user_account",kind:"scalar",T:9}]));class w extends i.Message{constructor(e){super(),this.path="",this.isMigrateToEdison=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new w).fromBinary(e,n)}static fromJson(e,n){return(new w).fromJson(e,n)}static fromJsonString(e,n){return(new w).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(w,e,n)}}w.runtime=i.proto3,w.typeName="page_checker.ExtractedPageCheckerConfig",w.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"path",kind:"scalar",T:9},{no:2,name:"page_checker_config",kind:"message",T:v},{no:3,name:"is_migrate_to_edison",kind:"scalar",T:8}]));class G extends i.Message{constructor(e){super(),this.protection={case:void 0},i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new G).fromBinary(e,n)}static fromJson(e,n){return(new G).fromJson(e,n)}static fromJsonString(e,n){return(new G).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(G,e,n)}}G.runtime=i.proto3,G.typeName="edison_route.FrameProtection",G.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"preset",kind:"enum",T:i.proto3.getEnumType(f),oneof:"protection"},{no:2,name:"allowed_origins",kind:"message",T:b,oneof:"protection"}])),function(e){e[e.SAME_ORIGIN=0]="SAME_ORIGIN",e[e.UNSAFE_ALLOW_ALL_ORIGINS=1]="UNSAFE_ALLOW_ALL_ORIGINS",e[e.DISALLOW_FRAMING=2]="DISALLOW_FRAMING"}(f||(f={})),i.proto3.util.setEnumType(f,"edison_route.FrameProtection.PresetValue",[{no:0,name:"SAME_ORIGIN"},{no:1,name:"UNSAFE_ALLOW_ALL_ORIGINS"},{no:2,name:"DISALLOW_FRAMING"}]);class b extends i.Message{constructor(e){super(),this.origins=[],this.disableRequestOriginFiltering=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new b).fromBinary(e,n)}static fromJson(e,n){return(new b).fromJson(e,n)}static fromJsonString(e,n){return(new b).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(b,e,n)}}b.runtime=i.proto3,b.typeName="edison_route.FrameProtection.AllowedOrigins",b.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"origins",kind:"scalar",T:9,repeated:!0},{no:2,name:"disable_request_origin_filtering",kind:"scalar",T:8}]));class U extends i.Message{constructor(e){super(),this.soaService="",this.edisonPageName="",this.promptController="",this.promptAction="",this.internalOnly=!1,this.supportSearchEngineOptimization=!1,this.serverSideRender=!1,this.trimUrlPathPrefix="",this.pageChecker=[],i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new U).fromBinary(e,n)}static fromJson(e,n){return(new U).fromJson(e,n)}static fromJsonString(e,n){return(new U).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(U,e,n)}}U.runtime=i.proto3,U.typeName="edison_route.EdisonConfig",U.fields=i.proto3.util.newFieldList((()=>[{no:11,name:"soa_service",kind:"scalar",T:9},{no:1,name:"edison_page_name",kind:"scalar",T:9},{no:4,name:"prompt_controller",kind:"scalar",T:9},{no:5,name:"prompt_action",kind:"scalar",T:9},{no:6,name:"redirect_endpoint",kind:"message",T:B},{no:8,name:"auth_options",kind:"message",T:k},{no:9,name:"page_config_endpoint",kind:"message",T:V},{no:10,name:"internal_only",kind:"scalar",T:8},{no:12,name:"frame_protection",kind:"message",T:G},{no:13,name:"support_search_engine_optimization",kind:"scalar",T:8},{no:14,name:"server_side_render",kind:"scalar",T:8},{no:15,name:"trim_url_path_prefix",kind:"scalar",T:9},{no:16,name:"extra_logging_tags",kind:"message",T:F},{no:17,name:"experimental_service_worker",kind:"message",T:H},{no:18,name:"page_checker",kind:"message",T:v,repeated:!0}]));class B extends i.Message{constructor(e){super(),this.service="",this.method="",this.redirectType=R.JS_REDIRECT,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new B).fromBinary(e,n)}static fromJson(e,n){return(new B).fromJson(e,n)}static fromJsonString(e,n){return(new B).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(B,e,n)}}B.runtime=i.proto3,B.typeName="edison_route.EdisonConfig.RedirectEndpoint",B.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"service",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"redirect_type",kind:"enum",T:i.proto3.getEnumType(R)}])),function(e){e[e.JS_REDIRECT=0]="JS_REDIRECT",e[e.HTTP_REDIRECT=1]="HTTP_REDIRECT",e[e.BLOCKING_HTTP_REDIRECT=2]="BLOCKING_HTTP_REDIRECT"}(R||(R={})),i.proto3.util.setEnumType(R,"edison_route.EdisonConfig.RedirectEndpoint.RedirectType",[{no:0,name:"JS_REDIRECT"},{no:1,name:"HTTP_REDIRECT"},{no:2,name:"BLOCKING_HTTP_REDIRECT"}]);class V extends i.Message{constructor(e){super(),this.service="",this.method="",this.dynamicPage=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new V).fromBinary(e,n)}static fromJson(e,n){return(new V).fromJson(e,n)}static fromJsonString(e,n){return(new V).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(V,e,n)}}V.runtime=i.proto3,V.typeName="edison_route.EdisonConfig.PageConfigurationEndpoint",V.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"service",kind:"scalar",T:9},{no:2,name:"method",kind:"scalar",T:9},{no:3,name:"dynamic_page",kind:"scalar",T:8}]));class F extends i.Message{constructor(e){super(),this.subPage="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new F).fromBinary(e,n)}static fromJson(e,n){return(new F).fromJson(e,n)}static fromJsonString(e,n){return(new F).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(F,e,n)}}F.runtime=i.proto3,F.typeName="edison_route.EdisonConfig.ExtraLoggingTags",F.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"sub_page",kind:"scalar",T:9}]));class H extends i.Message{constructor(e){super(),this.scope="",this.documentPath="",this.unregister=!1,i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new H).fromBinary(e,n)}static fromJson(e,n){return(new H).fromJson(e,n)}static fromJsonString(e,n){return(new H).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(H,e,n)}}H.runtime=i.proto3,H.typeName="edison_route.EdisonConfig.ServiceWorker",H.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"scope",kind:"scalar",T:9},{no:2,name:"document_path",kind:"scalar",T:9},{no:3,name:"unregister",kind:"scalar",T:8}]));class W extends i.Message{constructor(e){super(),this.url="",this.routeParams={},this.originalRoute="",this.requestBody=new Uint8Array(0),i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new W).fromBinary(e,n)}static fromJson(e,n){return(new W).fromJson(e,n)}static fromJsonString(e,n){return(new W).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(W,e,n)}}W.runtime=i.proto3,W.typeName="edison_page_config.EdisonPageConfigArgs",W.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"url",kind:"scalar",T:9},{no:2,name:"route_params",kind:"map",K:9,V:{kind:"scalar",T:9}},{no:3,name:"original_route",kind:"scalar",T:9},{no:4,name:"request_body",kind:"scalar",T:12}]));class x extends i.Message{constructor(e){super(),this.response={case:void 0},this.responseHeaders={},i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new x).fromBinary(e,n)}static fromJson(e,n){return(new x).fromJson(e,n)}static fromJsonString(e,n){return(new x).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(x,e,n)}}x.runtime=i.proto3,x.typeName="edison_page_config.EdisonPageConfigResponse",x.fields=i.proto3.util.newFieldList((()=>[{no:4,name:"page_config_data",kind:"message",T:J,oneof:"response"},{no:5,name:"redirect",kind:"message",T:q,oneof:"response"},{no:6,name:"response_headers",kind:"map",K:9,V:{kind:"scalar",T:9}}]));class J extends i.Message{constructor(e){super(),this.props=new Uint8Array(0),this.overrideCanonicalUrlPath="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new J).fromBinary(e,n)}static fromJson(e,n){return(new J).fromJson(e,n)}static fromJsonString(e,n){return(new J).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(J,e,n)}}J.runtime=i.proto3,J.typeName="edison_page_config.EdisonPageConfigResponse.PageConfigData",J.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"page_head_config",kind:"message",T:z},{no:2,name:"dynamic_page_config",kind:"message",T:$},{no:3,name:"props",kind:"scalar",T:12},{no:4,name:"override_canonical_url_path",kind:"scalar",T:9}]));class q extends i.Message{constructor(e){super(),this.status=0,this.unsafeUrl="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new q).fromBinary(e,n)}static fromJson(e,n){return(new q).fromJson(e,n)}static fromJsonString(e,n){return(new q).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(q,e,n)}}q.runtime=i.proto3,q.typeName="edison_page_config.EdisonPageConfigResponse.Redirect",q.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"status",kind:"scalar",T:5},{no:2,name:"unsafe_url",kind:"scalar",T:9},{no:3,name:"redirect_message",kind:"message",T:o.EdisonRedirectMessage}]));class K extends i.Message{constructor(e){super(),this.fragment={case:void 0},i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new K).fromBinary(e,n)}static fromJson(e,n){return(new K).fromJson(e,n)}static fromJsonString(e,n){return(new K).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(K,e,n)}}K.runtime=i.proto3,K.typeName="edison_page_config.HeadFragment",K.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"meta_tag",kind:"message",T:Y,oneof:"fragment"},{no:2,name:"link_tag",kind:"message",T:Q,oneof:"fragment"},{no:3,name:"noscript_tag",kind:"message",T:j,oneof:"fragment"}]));class Y extends i.Message{constructor(e){super(),this.content="",this.httpEquiv="",this.name="",this.property="",this.charset="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new Y).fromBinary(e,n)}static fromJson(e,n){return(new Y).fromJson(e,n)}static fromJsonString(e,n){return(new Y).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(Y,e,n)}}Y.runtime=i.proto3,Y.typeName="edison_page_config.HeadFragment.MetaTag",Y.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"content",kind:"scalar",T:9},{no:2,name:"http_equiv",kind:"scalar",T:9},{no:3,name:"name",kind:"scalar",T:9},{no:4,name:"property",kind:"scalar",T:9},{no:5,name:"charset",kind:"scalar",T:9}]));class Q extends i.Message{constructor(e){super(),this.rel="",this.href="",this.type="",this.sizes="",this.asAttr="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new Q).fromBinary(e,n)}static fromJson(e,n){return(new Q).fromJson(e,n)}static fromJsonString(e,n){return(new Q).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(Q,e,n)}}Q.runtime=i.proto3,Q.typeName="edison_page_config.HeadFragment.LinkTag",Q.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"rel",kind:"scalar",T:9},{no:2,name:"href",kind:"scalar",T:9},{no:3,name:"type",kind:"scalar",T:9},{no:4,name:"sizes",kind:"scalar",T:9},{no:5,name:"as_attr",kind:"scalar",T:9}]));class j extends i.Message{constructor(e){super(),this.fragment={case:void 0},i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new j).fromBinary(e,n)}static fromJson(e,n){return(new j).fromJson(e,n)}static fromJsonString(e,n){return(new j).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(j,e,n)}}j.runtime=i.proto3,j.typeName="edison_page_config.HeadFragment.NoScriptTag",j.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"meta_tag",kind:"message",T:Y,oneof:"fragment"},{no:2,name:"link_tag",kind:"message",T:Q,oneof:"fragment"}]));class z extends i.Message{constructor(e){super(),this.title="",this.description="",this.favicon="",this.headFragment=[],i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new z).fromBinary(e,n)}static fromJson(e,n){return(new z).fromJson(e,n)}static fromJsonString(e,n){return(new z).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals(z,e,n)}}z.runtime=i.proto3,z.typeName="edison_page_config.EdisonPageHeadConfig",z.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"favicon",kind:"scalar",T:9},{no:4,name:"head_fragment",kind:"message",T:K,repeated:!0}]));class $ extends i.Message{constructor(e){super(),this.atlasservlet="",this.pageName="",this.skipSsr=!1,this.customErrorStatus=0,this.supportSearchEngineOptimizationOverride=!1,this.localeOverride="",i.proto3.util.initPartial(e,this)}static fromBinary(e,n){return(new $).fromBinary(e,n)}static fromJson(e,n){return(new $).fromJson(e,n)}static fromJsonString(e,n){return(new $).fromJsonString(e,n)}static equals(e,n){return i.proto3.util.equals($,e,n)}}$.runtime=i.proto3,$.typeName="edison_page_config.EdisonDynamicPageConfig",$.fields=i.proto3.util.newFieldList((()=>[{no:1,name:"atlasservlet",kind:"scalar",T:9},{no:2,name:"page_name",kind:"scalar",T:9},{no:3,name:"skip_ssr",kind:"scalar",T:8},{no:4,name:"custom_error_status",kind:"scalar",T:5},{no:5,name:"custom_frame_protection",kind:"message",T:G},{no:6,name:"support_search_engine_optimization_override",kind:"scalar",T:8},{no:7,name:"locale_override",kind:"scalar",T:9}]));const X={typeName:"privacy_consent_edison.PrivacyConsentEdisonPrefetchService",methods:{privacyConsentPropsPrefetch:{name:"PrivacyConsentPropsPrefetch",I:t.PrefetchArgs,O:O,kind:a.MethodKind.Unary},cCPAIFramePageConfig:{name:"CCPAIFramePageConfig",I:W,O:x,kind:a.MethodKind.Unary},cCPAIframePropsPrefetch:{name:"CCPAIframePropsPrefetch",I:t.PrefetchArgs,O:M,kind:a.MethodKind.Unary},cCPAEmailConfirmPrefetch:{name:"CCPAEmailConfirmPrefetch",I:t.PrefetchArgs,O:P,kind:a.MethodKind.Unary},cCPAEmailCancelPrefetch:{name:"CCPAEmailCancelPrefetch",I:t.PrefetchArgs,O:P,kind:a.MethodKind.Unary},cCPAConsentSettingsPageConfig:{name:"CCPAConsentSettingsPageConfig",I:W,O:x,kind:a.MethodKind.Unary}}},Z={typeName:"privacy_consent_edison.PrivacyConsentPropsPrefetchService",methods:{privacyConsentPropsPrefetch:{name:"PrivacyConsentPropsPrefetch",I:t.PrefetchArgs,O:O,kind:a.MethodKind.Unary}}};class ee{constructor(e){if(ee.instance)return ee.instance;ee.instance=this,this.ttiTimeout=e}loadChatModule(){return this.chatLoadPromise||(this.chatLoadPromise=o.waitForTTI({timeoutMS:this.ttiTimeout}).then((()=>o.loadAfterDisplay((async()=>({default:await new Promise((function(n,t){e(["./c_chat_chat_client"],n,t)})).then((function(e){return e.chat_client_esnext}))})))))),this.chatLoadPromise}setCookieBannerInfo(e){this.loadChatModule().then((n=>{const t=n.default.ChatClientSingleton;t.isSetup()&&t.setCookieBannerInfo(e)}))}}const ne="privacy_consent";var te,oe,ie,ae,re;n.CCPAEvent=void 0,(te=n.CCPAEvent||(n.CCPAEvent={})).DNS_OPT_IN="dns_opt_in_submitted",te.DNS_OPT_IN_ERROR="dns_opt_in_error",te.DNS_OPT_OUT="dns_opt_out_submitted",te.DNS_OPT_OUT_ERROR="dns_opt_out_error",te.RESEND_EMAIL="resend_email_submitted",te.RESEND_EMAIL_ERROR="resend_email_error",te.IFRAME_LOAD_SUCCESS="ccpa_iframe_load_success",te.IFRAME_LOAD_ERROR="ccpa_iframe_load_error",te.EMAIL_VERIFICATION_PAGE_VISIT="ccpa_email_verification_page_visited",te.EMAIL_VERIFICATION_PAGE_ERROR="ccpa_email_verification_page_error",te.EMAIL_VERIFICATION_CONFIRM_CLICKED="ccpa_email_confirm_clicked",te.EMAIL_VERIFICATION_CANCEL_CLICKED="ccpa_email_cancel_clicked",n.CCPAEventErrorType=void 0,(oe=n.CCPAEventErrorType||(n.CCPAEventErrorType={})).CSRF_TOKEN_ERROR="csrf_token_error",oe.UNSUCCESSFUL_RESPONSE="unsuccessful_response",n.CCPAUserStateTags=void 0,(ie=n.CCPAUserStateTags||(n.CCPAUserStateTags={})).SIGNED_IN="signed_in",ie.SIGNED_OUT="signed_out",ie.SHOULD_USE_APP_AUTH="should_use_app_auth",ie.SHOULD_NOT_USE_APP_AUTH="should_not_use_app_auth",function(e){e.SETUP_REENTRY_SUCCESS="setup_reentry_success",e.SETUP_REENTRY_FAILURE="setup_reentry_failure",e.SETUP_REENTRY_START="setup_reentry_start"}(ae||(ae={})),n.PrivacyConsentAmpMetrics=void 0,(re=n.PrivacyConsentAmpMetrics||(n.PrivacyConsentAmpMetrics={})).CCPA_IFRAME_LOAD_LATENCY="ccpa_iframe_load_latency",re.EVENTS="events",re.CONSENT_IFRAME_RENDERED="consent_iframe_rendered",re.CCPA_IFRAME_RENDERED="ccpa_iframe_rendered";const se=new class{constructor(){}get metricsReporter(){return this.metricsReporterInstance||(this.metricsReporterInstance=_.getMetricsReporter()),this.metricsReporterInstance}createCounter(e,n={}){return this.metricsReporter.createCounter({ns:ne,name:e},n)}createStats(e,n={}){return this.metricsReporter.createStats({ns:ne,name:e},n)}logCounter(e,n={}){try{const t=this.createCounter(e,n);t.increment(),t.record()}catch(n){r.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logError(e,n={},t){this.logCounter(e,n),r.reportException({err:t,severity:r.SEVERITY.CRITICAL,tags:["privacy_consent"],exc_extra:n.event_name})}logDuration(e,n={},t){try{this.createStats(e,n).recordDuration(t,c.TimeUnit.MILLISECONDS)}catch(n){r.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}logStats(e,n={},t){try{this.createStats(e,n).record(t)}catch(n){r.reportStack(`PrivacyConsentAmpLogError: Failed to log AMP metric for event: ${e}.`,{severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],silent:!0})}}};var Ee;n.DefaultNonCcpaTogglesOn=void 0,(Ee=n.DefaultNonCcpaTogglesOn||(n.DefaultNonCcpaTogglesOn={})).GateOnDefaultsEnabled="gate_on_defaults_enabled",Ee.GateOnDefaultsDisabled="gate_on_defaults_disabled",Ee.GateOnInteracted="gate_on_interacted",Ee.GateOffDefaultsEnabled="gate_off_defaults_enabled",Ee.GateOffDefaultsDisabled="gate_off_defaults_disabled",Ee.GateOffInteracted="gate_off_interacted";const _e=(e,n)=>{const t={detail:{eventType:e,extra:n}};o.runAfterUxaListening((()=>{o.dispatchCustomEvent("privacy_consent_custom_event",t)}))},ce=["/scl","/s","/sh","/search/personal","/search/work","/photos","/home","/signatures","/h","/work","/docsend/home","/s/dl/","/deleted_files","/share/recents","/personal","/transfer","/paper"];const le="ccpa-iframe",de="#manage-cookies",me=["/","/login","/register","/work","/personal","/account","/privacy","/account/privacy"];var Ae,ue;!function(e){e.Banner="banner",e.DetailedView="detailed_view",e.FloatingButton="floating_button",e.Nothing="nothing"}(Ae||(Ae={})),function(e){e.HideGdpr="hide_gdpr",e.ShouldAutoOpenOptions="should_auto_open_options",e.CsrfOrigin="csrf_origin",e.ParentDomainConsentCookie="parent_domain_consent_cookie",e.ParentDomainDnsCookie="parent_domain_dns_cookie",e.DefaultNonCcpa="default_non_ccpa",e.UriForLogging="uri_for_logging",e.ShouldShowFloatingButton="should_show_floating_button",e.ShouldDisableBanner="should_disable_banner",e.Width="width",e.Origin="origin",e.Gpc="gpc",e.LocaleOverride="locale_override",e.CcpaToken="ccpa_token",e.Mobile="mobile"}(ue||(ue={}));const pe="https://www.docsend.com/privacy-policy",Ce="https://sign.dropbox.com/about/privacy",Te="https://formswift.com/privacy",he="https://www.dropbox.com/privacy",Ie="https://help.formswift.com/knowledge/how-to-access-and-delete-your-data",Ne="https://help.dropbox.com/security/privacy-policy-faq",ge="https://help.dropbox.com/security/cookies";var Se,fe;!function(e){e.csrfHandshakeEnd="CSRF_HANDSHAKE_END",e.privacyConsentPageInfo="PRIVACY_CONSENT_PAGE_INFO",e.countryCode="COUNTRY_CODE",e.iframeResize="IFRAME_RESIZE",e.openDetailedView="OPEN_DETAILED_VIEW",e.enableAndShowFloatingButton="ENABLE_AND_SHOW_FLOATING_BUTTON"}(Se||(Se={})),function(e){e.bodyContentChange="BODY_CONTENT_CHANGE",e.priorConsent="PRIOR_CONSENT",e.consentChanged="CONSENT_CHANGED",e.updateDefaultNonCcpa="UPDATE_DEFAULT_NON_CCPA",e.dnsEnabled="DNS_ENABLED",e.dnsDisabled="DNS_DISABLED",e.ccpaCookieFaqClick="CCPA_COOKIE_FAQ_CLICK",e.ccpaPrivacyPageClick="CCPA_PRIVACY_PAGE_CLICK",e.ccpaPrivacyPolicyFaqClick="CCPA_PRIVACY_POLICY_FAQ_CLICK",e.ccpaIframeLoad="CCPA_IFRAME_LOAD",e.ccpaIframeError="CCPA_IFRAME_ERROR",e.csrfHandshakeStart="CSRF_HANDSHAKE_START",e.dnsEmailValid="DNS_EMAIL_VALID",e.dnsEmailInvalid="DNS_EMAIL_INVALID",e.dnsPendingEnabled="DNS_PENDING_ENABLED",e.logConsentValues="LOG_CONSENT_VALUES",e.ccpaIframeResize="CCPA_IFRAME_RESIZE",e.displayStateChange="DISPLAY_STATE_CHANGE",e.iframeBannerCheck="IFRAME_BANNER_CHECK"}(fe||(fe={}));o.injectInternalStyle("/static/metaserver/static/js/privacy_consent/privacy_consent.module.out-vfl_lGgwq.css",(e=>"._ccpa-iframe_163y6_1{background-color:transparent;border:0;bottom:0;color-scheme:none;height:0;left:0;overflow:hidden;position:fixed;z-index:999999}._ccpa-iframe_163y6_1._banner-visible_163y6_13{bottom:24px;box-shadow:0 16px 32px 0 #0000001a;left:24px;width:600px}@media (max-width:648px){._ccpa-iframe_163y6_1._banner-visible_163y6_13{bottom:12px;left:12px;width:calc(100% - 24px)}}._ccpa-iframe_163y6_1:not(._banner-visible_163y6_13):not(._detailed-view-visible_163y6_33):not(._floating-button-visible_163y6_33){display:none;left:-1px}._ccpa-iframe_163y6_1._floating-button-visible_163y6_33{bottom:24px;height:32px;left:0;width:32px}@media (max-width:648px){._ccpa-iframe_163y6_1._floating-button-visible_163y6_33{bottom:12px}}._ccpa-iframe_163y6_1._detailed-view-visible_163y6_33{height:100%;width:100%}"));const Re="_ccpa-iframe_163y6_1",Oe="_banner-visible_163y6_13",Me="_detailed-view-visible_163y6_33",Pe="_floating-button-visible_163y6_33",Le=o.getDomains(),De=`https://${Le.WEBSERVER}`,ye=window.location.origin.toLowerCase(),ke="formswift.com";class ve{constructor(e){this.dnsEmailValid=!1,this.isInIframe=e.isInIframe,this.cookieStore=e.cookieStore,this.isDefaultNonCcpaEnabled=e.isDefaultNonCcpaEnabled,this.log=e.log,this.waitForTTI=e.waitForTTI,this.ttiTimeout=e.ttiTimeout,this.iframeTitle=e.iframeTitle,this.clientInfo=e.clientInfo,this.disableBanner=e.disableBanner,this.countryCode=e.countryCode,this.isGpcEnabled=e.isGpcEnabled,this.hideGdpr=e.hideGdpr,this.ccpaToken=e.ccpaToken,this.locale=e.locale,this.urlHash=e.urlHash,this.isCcpaIframeRendered=!1,this.onIframeLoad=e.onIframeLoad,this.onBannerVisible=e.onBannerVisible,this.onBannerNotVisible=e.onBannerNotVisible,this.onPriorConsent=e.onPriorConsent,this.onConsentChanged=e.onConsentChanged,this.onUpdateDefaultNonCcpa=e.onUpdateDefaultNonCcpa,this.onDNSEnabled=e.onDNSEnabled,this.onDNSDisabled=e.onDNSDisabled,this.onGPCEnabled=e.onGPCEnabled,this.startCvcMonitoring=e.startCvcMonitoring,window.addEventListener("message",(e=>this.receiveMessage(e)),!1)}createIframe(){var e;const n=this.cookieStore.hasUserInteracted();window.location.hash===de||!n&&!this.disableBanner||this.hideGdpr?this.loadIframe():null===(e=this.log)||void 0===e||e.logConsentCookieValues(this.isDefaultNonCcpaEnabled?"gate_on_interacted":"gate_off_interacted",this.cookieStore.getAllowedCategoriesMap(),n)}iframeExists(){return void 0!==this.iframeEl}loadIframe(e,n){var t;if(!this.iframeExists()){const o="true"===(null!==(t=new URLSearchParams(window.location.search).get(ue.Gpc))&&void 0!==t?t:""),i=new Date;this.iframeEl=document.createElement("iframe"),this.disableBanner||this.startCvcMonitoring(this.iframeEl);const a=window.parent!==window&&window.innerHeight<=300,r=new URLSearchParams;r.append(ue.HideGdpr,String(this.hideGdpr)),r.append(ue.ShouldDisableBanner,String(this.disableBanner||a)),r.append(ue.Gpc,String(this.isGpcEnabled||o)),r.append(ue.Origin,encodeURIComponent(window.location.origin)),r.append(ue.UriForLogging,(()=>{const e=window.location.pathname,n=window.location.hostname.replace(/^www\./,"");return me.includes(e)?n+e:n})()),r.append(ue.ShouldShowFloatingButton,String(n||a)),r.append(ue.ShouldAutoOpenOptions,String(window.location.hash===de||e)),r.append(ue.Width,String(window.innerWidth)),this.locale&&r.append(ue.LocaleOverride,this.locale),this.ccpaToken&&(r.append(ue.CcpaToken,this.ccpaToken),r.append(ue.Mobile,"1")),this.cookieStore.getDNSCookie()&&r.append(ue.ParentDomainDnsCookie,String(!0));const s=this.cookieStore.getShadowCookie();s&&r.append(ue.ParentDomainConsentCookie,encodeURIComponent(JSON.stringify(s))),this.isCrossOrigin()&&r.append(ue.CsrfOrigin,encodeURIComponent(ye)),this.isDefaultNonCcpaEnabled&&r.append(ue.DefaultNonCcpa,String(this.isDefaultNonCcpaEnabled));const E=`${De}/ccpa_iframe?${r.toString()}${this.urlHash}`;this.iframeEl.src=E,this.iframeEl.referrerPolicy="strict-origin",this.iframeEl.setAttribute("id",le),this.iframeEl.setAttribute("title",this.iframeTitle),this.iframeEl.setAttribute("tabindex","1"),this.iframeEl.setAttribute("frameborder","0"),this.iframeEl.classList.add(Re),(this.disableBanner||a)&&(this.bannerVisible=!1,this.iframeEl.classList.remove(Oe)),a&&this.iframeEl.classList.add(Pe),document.body.insertBefore(this.iframeEl,document.body.firstChild),this.iframeEl.addEventListener("load",(()=>{this.handleIframeLoad(i,ye)}));const _=Date.now();this.iframeEl.onload=()=>{this.onCCPAIFrameLoad({messageType:"CCPA_IFRAME_LOAD",start_time:_})},this.iframeEl.onerror=()=>{this.onCCPAIFrameLoad({messageType:"CCPA_IFRAME_ERROR",start_time:_})},window.addEventListener("resize",(()=>{this.send({messageType:Se.iframeResize,width:window.innerWidth})}))}}receiveMessage(e){var n,t,o;const i=e.data;switch(i.messageType){case fe.bodyContentChange:this.onBodyContentChange(i);break;case fe.priorConsent:this.onPriorConsent(i.categories);break;case fe.consentChanged:this.onConsentChanged(i.categories,i.shouldAvoidReload);break;case fe.updateDefaultNonCcpa:this.onUpdateDefaultNonCcpa(i.categories);break;case fe.dnsEnabled:this.onDNSEnabled(i.optInToDNS);break;case fe.dnsDisabled:this.onDNSDisabled();break;case fe.ccpaCookieFaqClick:this.openNewTabPrivacyCookieFaqLink();break;case fe.ccpaPrivacyPageClick:this.openNewTabPrivacyLink();break;case fe.ccpaPrivacyPolicyFaqClick:this.openNewTabPrivacyFaqLink();break;case fe.ccpaIframeLoad:this.onCCPAIFrameLoad(i);break;case fe.ccpaIframeError:null===(n=this.log)||void 0===n||n.logCCPAIframeError(i);break;case fe.csrfHandshakeStart:this.send({messageType:Se.csrfHandshakeEnd,token:i.token});break;case fe.dnsEmailValid:this.onDNSEmailValid();break;case fe.dnsEmailInvalid:this.onDNSEmailInvalid();break;case fe.dnsPendingEnabled:this.onDNSPendingEnabled(i);break;case fe.ccpaIframeResize:this.onCCPAIFrameResize(i);break;case fe.iframeBannerCheck:i.height&&(this.setIframeHeight(`${i.height}px`),this.send({messageType:fe.iframeBannerCheck,iframeHeight:null===(t=this.iframeEl)||void 0===t?void 0:t.clientHeight}));break;case fe.displayStateChange:this.onDisplayStateChange(i);break;case fe.logConsentValues:null===(o=this.log)||void 0===o||o.logConsentCookieValues(i.defaultNonCcpaTogglesOn,i.categories,i.userInteracted)}}openOptionsDialog(){this.isInIframe&&this.loadIframe(!0),this.send({messageType:Se.openDetailedView})}sendShowFloatingButton(){this.loadIframe(!1,!0),this.send({messageType:Se.enableAndShowFloatingButton})}getBannerHeight(){var e,n;if(this.bannerVisible)return this.disableBanner?0:(null===(e=this.iframeEl)||void 0===e?void 0:e.clientHeight)?null===(n=this.iframeEl)||void 0===n?void 0:n.clientHeight:0}send(e){if(this.isInIframe){if(this.iframeEl){const n=this.iframeEl.contentWindow;n&&n.postMessage(e,De)}}else window.postMessage(e,De)}handleGPCSignal(){var e;const n="true"===(null!==(e=new URLSearchParams(window.location.search).get(ue.Gpc))&&void 0!==e?e:"");(this.isGpcEnabled||n)&&this.onGPCEnabled()}sendCountryCode(){this.countryCode&&this.send({messageType:Se.countryCode,country_code:this.countryCode})}handleIframeLoad(e,n){var t,o;null===(t=this.log)||void 0===t||t.logIframeLoad(e,n),null===(o=this.log)||void 0===o||o.logConsentIframeRendered(),this.waitForTTI({timeoutMS:this.ttiTimeout}).then((()=>{this.handleGPCSignal(),this.sendCountryCode(),this.bannerVisible&&this.triggerOnBannerVisible(),this.onIframeLoad()}))}onBodyContentChange(e){var n,t,o,i;let a=!1,r=!1,s=!1;if(e.displayState&&this.iframeEl){switch(e.displayState){case Ae.DetailedView:r=!0;break;case Ae.FloatingButton:s=!0;break;case Ae.Banner:a=!this.isGpcEnabled}a||(this.iframeEl.style.height="")}this.bannerVisible=a&&!this.isGpcEnabled,null===(n=this.iframeEl)||void 0===n||n.classList.toggle(Pe,s),null===(t=this.iframeEl)||void 0===t||t.classList.toggle(Oe,a),null===(o=this.iframeEl)||void 0===o||o.classList.toggle(Me,r),this.bannerVisible?(this.send({messageType:Se.iframeResize,width:window.innerWidth}),this.isInIframe&&!this.isCcpaIframeRendered&&(this.isCcpaIframeRendered=!0,null===(i=this.log)||void 0===i||i.logCcpaIframeRendered()),this.triggerOnBannerVisible()):this.onBannerNotVisible&&this.onBannerNotVisible()}openNewTab(e){this.hideGdpr?window.location.assign(e):window.open(e,"_blank","noopener,noreferrer")}openNewTabPrivacyLink(){ye.includes("docsend.com")?this.openNewTab(pe):ye.includes("hellosign.com")?this.openNewTab(Ce):ye.includes(ke)?this.openNewTab(Te):this.openNewTab(he)}openNewTabPrivacyFaqLink(){ye.includes(ke)?this.openNewTab(Ie):this.openNewTab(Ne)}openNewTabPrivacyCookieFaqLink(){this.openNewTab(ge)}onCCPAIFrameLoad(e){var n;this.sendPrivacyConsentPageInfo();const t=Date.now()-e.start_time;null===(n=this.log)||void 0===n||n.logCCPAIframeLoad(t)}setIframeHeight(e){this.iframeEl&&(this.iframeEl.style.height=e)}triggerOnBannerVisible(){this.onBannerVisible&&this.onBannerVisible(this.getBannerHeight()||0)}sendPrivacyConsentPageInfo(){const e=window.location.hostname;this.send({messageType:Se.privacyConsentPageInfo,hostname:e,foreignSessionId:null,clientInfo:this.clientInfo})}isCrossOrigin(){const e=window.location.hostname.toLowerCase();return!e.endsWith("dropbox.com")&&e!==Le.WEBSERVER}onDNSEmailValid(){this.dnsEmailValid=!0}onDNSEmailInvalid(){this.dnsEmailValid=!1}onDNSPendingEnabled(e){this.dnsEmailValid||e.loggedIn?this.onDNSEmailValid():this.onDNSEmailInvalid()}onCCPAIFrameResize(e){const n=e.height||0;this.iframeEl&&n&&(this.iframeEl.style.height=`${n}px`,this.onBannerVisible&&this.triggerOnBannerVisible())}onDisplayStateChange(e){e.isBannerVisible&&this.onBannerVisible?this.onBannerVisible(e.height):this.onBannerNotVisible&&this.onBannerNotVisible()}}const we="privacy-consent-styles";class Ge{constructor(e){if(this.manageCookiesSet=!1,this.manageCookiesInjected=!1,this.floatingButtonVisible=!1,this.bannerVisible=!1,this.bannerDisabled=!1,this.hasUserInteracted=!1,this.getManualReEntryProvided=()=>!1,this.isFooterLoading=!1,Ge.instance)return Ge.instance;Ge.instance=this,this.log=e.log,this.updateConsentCategories=e.updateConsentCategories,this.intlText=e.intlText,this.ttiTimeout=e.ttiTimeout,this.waitForTTI=e.waitForTTI,this.startCvcMonitoring=e.startCvcMonitoring,this.openOptionsDialog=this.openOptionsDialog.bind(this),this.getConsentCategories=this.getConsentCategories.bind(this)}init(e,n,t=!0){var i,a,r,s,E,_;this.config=e,this.bannerDisabled=Boolean(e.isBannerDisabled||(null==n?void 0:n.disableBanner)),this.isInIframe=t;const c={};(null===(i=null==n?void 0:n.thirdPartyConfig)||void 0===i?void 0:i.cookieDomain)&&!String(n.thirdPartyConfig.cookieDomain).endsWith(".dropbox.com")&&(c.cookieDomain=n.thirdPartyConfig.cookieDomain),this.cookieStore=new o.ConsentCookieStore(c,this.log),this.hasUserInteracted=this.cookieStore.hasUserInteracted();const l=this.cookieStore.getAllowedCategoriesMap();if(this.isInIframe&&((null===(a=this.consentIframeWrapper)||void 0===a?void 0:a.iframeExists())||document.getElementById(le)))return;null===(r=null==n?void 0:n.initCallback)||void 0===r||r.call(n,l,this.hasUserInteracted),null===(s=null==n?void 0:n.priorConsentCallback)||void 0===s||s.call(n,l,!1,this.hasUserInteracted),null===(E=null==this?void 0:this.updateConsentCategories)||void 0===E||E.call(this,this.cookieStore.getAllowedCategories()),this.setBannerVisibilityOnClient=((e,n=0)=>{let t;if(e)return(...o)=>{clearTimeout(t),n?t=setTimeout((()=>{e(...o)}),n):e(...o)}})(((e=0)=>{this.setPrivacyConsentCSSPropertiesOnClient(e),e>0?(null==n?void 0:n.onBannerVisible)&&(null==n||n.onBannerVisible(e)):(null==n?void 0:n.onBannerNotVisible)&&(null==n||n.onBannerNotVisible())}),100),this.consentChangedCallback=null==n?void 0:n.consentChangedCallback,this.priorConsentCallback=null==n?void 0:n.priorConsentCallback,this.disableFloatingButton=!!n&&!n.injectFloatingButton,this.injectToFooter=!n||n.injectToFooter,this.getManualReEntryProvided=null!==(_=null==n?void 0:n.getManualReEntryProvided)&&void 0!==_?_:()=>!1;const d=new URLSearchParams(window.location.search);this.setManageCookies(),this.consentIframeWrapper=new ve({isInIframe:this.isInIframe,cookieStore:this.cookieStore,log:this.log,waitForTTI:this.waitForTTI,ttiTimeout:this.ttiTimeout,iframeTitle:this.intlText.consentIframeTitle,clientInfo:d.get("client_info")||"",disableBanner:this.bannerDisabled,isDefaultNonCcpaEnabled:this.config.isDefaultNonCcpaEnabled,isGpcEnabled:this.isGPCEnabled(),hideGdpr:this.getHideGDPR(d.get("hide_gdpr")),ccpaToken:this.getCCPAToken(d.get("ccpa_token")),locale:null==n?void 0:n.locale,urlHash:window.location.hash,onBannerVisible:e=>this.onBannerVisibilityChange(e),onBannerNotVisible:()=>this.onBannerVisibilityChange(0),onIframeLoad:()=>this.onIframeLoad(),onPriorConsent:e=>this.onPriorConsent(e),onConsentChanged:(e,n)=>this.onConsentChanged(e,n,!0),onUpdateDefaultNonCcpa:e=>this.onConsentChanged(e,!0,!1),onDNSEnabled:e=>this.onDNSEnabled(e),onDNSDisabled:()=>this.onDNSDisabled(),onGPCEnabled:()=>this.onGPCEnabled(),startCvcMonitoring:this.startCvcMonitoring}),this.isInIframe?(this.consentIframeWrapper.createIframe(),this.waitForTTI().then((()=>{this.setupSettingsReEntry()}))):this.setupSettingsReEntry()}getHideGDPR(e){return("true"===e||"false"===e)&&"true"===e}getCCPAToken(e){var n,t;if(null!==e){const t=new Date;t.setDate(t.getDate()+1),null===(n=this.cookieStore)||void 0===n||n.bakeCCPATokenCookie({ccpaToken:e,expireDate:t.toISOString()});const o=/&?ccpa_token=[^&^#]+/,i=window.location.search.replace(o,""),a=`${window.location.pathname}${i}${window.location.hash}`;return window.history.replaceState({},"",a),e}const o=null===(t=this.cookieStore)||void 0===t?void 0:t.getCCPATokenCookie();return o&&o.ccpaToken?o.ccpaToken:""}onIframeLoad(){this.setupSettingsReEntry(),this.logPrivacyConsentResult()}onFooterLoaded(){this.waitForTTI({timeoutMS:this.ttiTimeout}).then((()=>{var e;this.setupSettingsReEntry();const n=null===(e=this.consentIframeWrapper)||void 0===e?void 0:e.getBannerHeight();void 0!==n&&void 0!==this.onBannerVisibilityChange&&this.onBannerVisibilityChange(n)}))}setupSettingsReEntry(){!this.config||this.manageCookiesSet||this.manageCookiesInjected||(this.injectToFooter&&(this.setManageCookies(),this.injectManageCookies()),this.maybeUseFloatingButton())}setManageCookies(){if(this.manageCookiesSet||this.manageCookiesInjected)return;const e=this.findManageCookies();e&&(e.setAttribute("href",de),e.onclick=e=>this.onClickManageCookies(e),e.textContent=this.intlText.cookiesAndCCPA,this.manageCookiesSet=!0)}openOptionsDialog(){var e;null===(e=this.consentIframeWrapper)||void 0===e||e.openOptionsDialog()}getConsentCategories(){if(this.cookieStore)return this.cookieStore.getAllowedCategoriesMap();throw new Error("Unable to read consent cookies. Do not call until after initCallback is triggered")}isGPCEnabled(){return"globalPrivacyControl"in navigator&&!!navigator.globalPrivacyControl}onGPCEnabled(){var e;null===(e=this.cookieStore)||void 0===e||e.bakeDNSCookie(!0)}maybeUseFloatingButton(){var e;this.disableFloatingButton||this.manageCookiesSet||this.manageCookiesInjected||this.isFooterLoading||(this.isInIframe&&(null===(e=this.consentIframeWrapper)||void 0===e||e.sendShowFloatingButton()),this.floatingButtonVisible=!0)}onPriorConsent(e){var n,t;if(!this.cookieStore)throw new Error("Unable to read consent cookies. Do not call until after initCallback is triggered");const i=this.cookieStore.mapCookies(e)||o.defaultCookieCategoriesMap,a=this.cookieStore.hasUserInteracted()||!1,r=this.cookieStore.havePreferencesChanged(i);null===(n=this.priorConsentCallback)||void 0===n||n.call(this,i,r,a),null===(t=this.updateConsentCategories)||void 0===t||t.call(this,this.cookieStore.getAllowedCategories())}onConsentChanged(e,n=!1,t=!0){var o,i;if(!this.cookieStore)throw new Error("Unable to read consent cookies. Do not call until after initCallback is triggered");const a=this.cookieStore.mapCookies(e),r=this.cookieStore.havePreferencesChanged(a);this.saveShadowCookie(e,t),r&&(null===(o=this.consentChangedCallback)||void 0===o||o.call(this,a,n),null===(i=this.updateConsentCategories)||void 0===i||i.call(this,this.cookieStore.getAllowedCategories()))}onDNSEnabled(e){var n;null!=e&&(null===(n=this.cookieStore)||void 0===n||n.bakeDNSCookie(!0))}onDNSDisabled(){var e;null===(e=this.cookieStore)||void 0===e||e.clearDNSCookie()}onClickManageCookies(e){var n;e.preventDefault(),null===(n=this.consentIframeWrapper)||void 0===n||n.openOptionsDialog()}onBannerVisibilityChange(e=0){var n,t;!(null===(n=this.cookieStore)||void 0===n?void 0:n.hasUserInteracted())&&e>0&&!(null===(t=this.cookieStore)||void 0===t?void 0:t.shadowCookieExists())&&this.saveShadowCookie(o.defaultCookieCategoriesMap,!1),this.setBannerVisibilityOnClient&&this.setBannerVisibilityOnClient(e)}setPrivacyConsentCSSPropertiesOnClient(e=0){const n=document.getElementById(we)||document.createElement("style");n.id=we,n.textContent=`:root{--privacy-consent-banner-height:${e}px;}`,e>0&&(n.textContent+=":root{--privacy-consent-banner-onetap-visibility-hidden:hidden;--privacy-consent-banner-onetap-opacity:0}"),n.parentNode!==document.head&&document.head.appendChild(n)}saveShadowCookie(e,n){var t,o,i;if(this.cookieStore){const a=null===(t=this.cookieStore)||void 0===t?void 0:t.mapCookies(e),r=null===(o=this.cookieStore)||void 0===o?void 0:o.createShadowCookieValue(a,n);null===(i=this.cookieStore)||void 0===i||i.bakeShadowCookie(r)}}findManageCookies(){return document.querySelector(`a[href*="${de}"]`)||null}findCookiePolicy(e){return(null==e?void 0:e.querySelector('a[href*="/terms/cookies"],a[href*="/accounts-billing/security/cookies"]'))||null}getLinkWrapper(e){return e.closest("li")}createManageCookies(e){const n=this.getLinkWrapper(e);if(n){const t=n.cloneNode(),o=document.createElement("a");return o.textContent=this.intlText.cookiesAndCCPA,o.setAttribute("class",e.className),o.setAttribute("href",de),o.onclick=e=>this.onClickManageCookies(e),t.appendChild(o),t}return null}findFooter(){const e=()=>{const e=["pre-footer","matrix__footer","footer-cta","footer-secondary-cta","cta-footer"],n=["div","section","footer"],t=Array.from(document.querySelectorAll(["footer",'[id="footer"]','[class="footer"]','[class^="footer "]','[class*=" footer "]','[class$=" footer"]','[id*="-footer"]','[id^="footer-"]','[id*="_footer"]','[id^="footer_"]','[class*="-footer"]','[class^="footer-"]','[class*="_footer"]','[class^="footer_"]'].join(","))).filter((t=>n.includes(t.tagName.toLowerCase())&&!e.some((e=>t.classList.contains(e)))));return t.length?t[0]:null};let n=e();return n||"interactive"===document.readyState||"complete"===document.readyState||document.addEventListener("DOMContentLoaded",(()=>{n=e()})),n}injectManageCookies(){if(this.manageCookiesSet||this.manageCookiesInjected)return;const e=this.findFooter(),n=e?this.findCookiePolicy(e):null;if(!this.manageCookiesSet&&n){const e=this.createManageCookies(n),t=this.getLinkWrapper(n);e&&t&&(t.insertAdjacentElement("afterend",e),this.renameCookiePolicyLink(n),this.manageCookiesInjected=!0)}}renameCookiePolicyLink(e){e.textContent=this.intlText.cookiePolicy}logPrivacyConsentResult(){var e;const n=this.manageCookiesSet||this.manageCookiesInjected||this.floatingButtonVisible||this.bannerVisible||this.getManualReEntryProvided();null===(e=this.log)||void 0===e||e.logPrivacyConsentResult(n)}}const be=["/transfer","/transfer/manage","/privacy/dsr"],Ue=["/","/account","/automations","/collections","/dash-home","/deleted_files","/desktop_preview","/for_you","/h","/home","/low-space","/low-space-sharing","/out-of-space","/personal","/preview","/previews","/recents","/requests","/s","/sc","/scl","/security_checkup","/sh","/share","/shared","/shop/create","/shop/customers","/shop/discounts","/shop/embed/create","/shop/orders","/shop/payments_settings","/shop/products","/shop/settings","/shop/setup","/shop/store/edit","/shop/terms","/signatures","/space-upgrade","/starred","/team/admin","/transfer","/trial_first","/videos","/work"],Be=e=>{let n=window.location.pathname;for(const{localeCode:t}of e){const e=`/${t}`;if(n===e){n="/";break}const o=`${e}/`;if(n.startsWith(o)){n=n.substring(o.length);break}}for(const e of Ue){if(n===e)return!0;const t=`${e}/`;if(n.startsWith(t))return!0}return!1},Ve=window,Fe=n=>{var t;const i=null!==(t=n[o.CookieCategory.PerformanceFunctionality])&&void 0!==t&&t;return i?new Promise((function(n,t){e(["./c_zoom_chat_manager_zoom_chat_manager_utils"],n,t)})).then((({executeConsentGrantedProceedDBXSalesChatToLoad:e})=>{e()})).catch((e=>{throw e})):i?Promise.resolve():new Promise((function(n,t){e(["./c_zoom_chat_manager_zoom_chat_manager_utils"],n,t)})).then((({consentNotGrantedLogZoomChatUxaEvent:e})=>{e()})).catch((e=>{throw e}))};function He(e,n=!0){r.reportException({err:e,severity:r.SEVERITY.NONCRITICAL,exc_extra:{isInIframe:n}})}const We=({error:e,severity:n=r.SEVERITY.CRITICAL,tags:t=[],extra:o})=>{r.reportException({err:e,severity:n,tags:["privacy_consent","privacy_consent_init",...t],exc_extra:{privacy_consent:o}})},xe=[".footer--minimal","#locale-container",".ui-bar.footer, .ui-body-w.page, body>.auth-connect"],Je=new ee(5e3),qe=(e=0)=>{const n=!!e,t=xe.map((e=>document.querySelector(e))).find(Boolean)||null;((e=0,n)=>{if(!e||!n)return;const t="privacy-consent-bottom-styles",o=document.getElementById(t)||document.createElement("style");o.id=t;const i=xe.join(", ").split(/,\s*/).map((e=>`${e}::after`)).join(", ");o.textContent=`\n    ${i} {\n      display: block;\n      margin-bottom: var(--privacy-consent-banner-height);\n      content: '';\n      height: 0;\n      line-height: 0;\n      clear: both;\n      float: left;\n    }`,o.parentNode!==document.head&&document.head.appendChild(o)})(e,!!t),Je.setCookieBannerInfo(n),t&&(n?t.style.marginBottom="var(--privacy-consent-banner-height, 0px)":t.style.removeProperty("margin-bottom"))},Ke=(e,n)=>{e&&!n&&window.location.reload(!0)},Ye=new Ge({intlText:(Qe=s.intl,{manageCookies:Qe.formatMessage({id:"yF4LPz",defaultMessage:"Manage cookies"}),cookiesAndCCPA:Qe.formatMessage({id:"glGIgS",defaultMessage:"Cookies & CCPA preferences"}),cookiePolicy:Qe.formatMessage({id:"t0O/69",defaultMessage:"Cookie policy"}),consentIframeTitle:Qe.formatMessage({id:"C4AGEz",defaultMessage:"Cookies & CCPA Preferences - Dropbox"}),doNotSellRedirectTitle:Qe.formatMessage({id:"B/scGc",defaultMessage:"Do not sell or share my information"}),doNotSellLinkText:Qe.formatMessage({id:"LNz7a7",defaultMessage:"Do Not Sell"})}),log:new class{logIframeLoad(e,t){((e,n)=>{const t=(new Date).valueOf()-e.valueOf();_e("privacyConsentIframeLoaded",{total_time:t.toString(),iframe_uri:n})})(e,t),se.logCounter(n.PrivacyConsentAmpMetrics.EVENTS,{event_name:ae.SETUP_REENTRY_START})}logPrivacyConsentResult(e){const t=e?ae.SETUP_REENTRY_SUCCESS:ae.SETUP_REENTRY_FAILURE;se.logCounter(n.PrivacyConsentAmpMetrics.EVENTS,{event_name:t});const o=!ce.some((e=>window.location.pathname.startsWith(e)));!e&&o&&r.reportException({err:new Error(`Privacy consent module is not visible on page ${window.location.pathname}`),severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"]})}logCCPAIframeLoad(e){(e=>{_e("privacyConsentScriptLoaded",{total_time:e.toString()})})(e),se.logCounter(n.PrivacyConsentAmpMetrics.EVENTS,{event_name:n.CCPAEvent.IFRAME_LOAD_SUCCESS}),se.logDuration(n.PrivacyConsentAmpMetrics.CCPA_IFRAME_LOAD_LATENCY,{},e)}logCCPAIframeError(e){const t=Date.now()-e.start_time;(e=>{_e("privacyConsentScriptLoadError",{total_time:e.toString()}),r.reportException({err:new Error("CCPA iframe failed to load"),severity:r.SEVERITY.CRITICAL,tags:["privacy_consent","ccpa_iframe"]})})(t),se.logCounter(n.PrivacyConsentAmpMetrics.EVENTS,{event_name:n.CCPAEvent.IFRAME_LOAD_ERROR}),se.logDuration(n.PrivacyConsentAmpMetrics.CCPA_IFRAME_LOAD_LATENCY,{},t)}logInvalidCookieCategoryException(e){(e=>{r.reportException({err:new Error("Invalid cookie category id"),severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],exc_extra:{cookie_id:e}})})(e)}logCookieParseException(e,n){((e,n)=>{r.reportException({err:new Error(`Cookie ${e} could not be parsed`),severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],exc_extra:{privacy_consent:{cookie_str:n}}})})(e,n)}logConsentIframeRendered(){const e=`/${window.location.pathname.split("/")[1]}`;se.logDuration(n.PrivacyConsentAmpMetrics.CONSENT_IFRAME_RENDERED,{route:e},performance.now())}logCcpaIframeRendered(){const e=`/${window.location.pathname.split("/")[1]}`;se.logDuration(n.PrivacyConsentAmpMetrics.CCPA_IFRAME_RENDERED,{route:e},performance.now())}logConsentCookieValues(e,n,t){((e,n,t)=>{if(n&&e&&void 0!==t){const i=Object.entries(n).filter((([e,n])=>e!==o.CookieCategory.StrictlyNecessary&&n)).sort();_e("privacyConsentCookieValues",{default_non_ccpa_toggles_on:e.toString(),categories:JSON.stringify(i),user_interacted:t.toString()})}else r.reportException({err:new Error("logConsentCookieValues is missing values"),severity:r.SEVERITY.NONCRITICAL,tags:["privacy_consent"],exc_extra:{privacy_consent:{defaultNonCcpaTogglesOn:e,categories:n,userInteracted:t}}})})(e,n,t)}},updateConsentCategories:e=>{o.MarketingTracker.tryPushEvent("updateConsentCategories",o.EventTypeEnum.Link,{consent_categories:e.join(",")})},ttiTimeout:5e3,waitForTTI:o.waitForTTI,startCvcMonitoring:n=>{const t=performance.now();Promise.all([new Promise((function(n,t){e(["./e_warp_warp_page_edison"],n,t)})).then((function(e){return e.component_visually_complete_calculator_esnext})),new Promise((function(n,t){e(["./e_warp_warp_page_edison"],n,t)})).then((function(e){return e.metrics_logger_esnext}))]).then((([{ComponentVisuallyCompleteCalculator:e},{cvcInteractiveLogger:o}])=>{if(e.isSupportedEnvironment()){const i=new e({current:n},(e=>o("ccpa-iframe",e)),{measurementTimeout:3e4,reportOnNoChange:!0});window.requestAnimationFrame((()=>{i.start(!1,t)}))}}))}});var Qe;const je=["/","/login","/register","/work","/personal","/account","/privacy","/account/privacy"];var ze,$e;n.DisplayState=void 0,function(e){e.Banner="banner",e.DetailedView="detailed_view",e.FloatingButton="floating_button",e.Nothing="nothing"}(n.DisplayState||(n.DisplayState={})),n.QueryParam=void 0,function(e){e.HideGdpr="hide_gdpr",e.ShouldAutoOpenOptions="should_auto_open_options",e.CsrfOrigin="csrf_origin",e.ParentDomainConsentCookie="parent_domain_consent_cookie",e.ParentDomainDnsCookie="parent_domain_dns_cookie",e.DefaultNonCcpa="default_non_ccpa",e.UriForLogging="uri_for_logging",e.ShouldShowFloatingButton="should_show_floating_button",e.ShouldDisableBanner="should_disable_banner",e.Width="width",e.Origin="origin"}(n.QueryParam||(n.QueryParam={})),n.CCPAInboundMessageType=void 0,(ze=n.CCPAInboundMessageType||(n.CCPAInboundMessageType={})).dnsSettingsConfirmed="DNS_SETTINGS_CONFIRMED",ze.dnsSettingsCancelled="DNS_SETTINGS_CANCELLED",ze.privacyConsentPageInfo="PRIVACY_CONSENT_PAGE_INFO",ze.csrfHandshakeEnd="CSRF_HANDSHAKE_END",ze.openDetailedView="OPEN_DETAILED_VIEW",ze.enableAndShowFloatingButton="ENABLE_AND_SHOW_FLOATING_BUTTON",ze.iframeResize="IFRAME_RESIZE",ze.bannerCheck="BANNER_CHECK",n.CCPAOutboundMessageType=void 0,($e=n.CCPAOutboundMessageType||(n.CCPAOutboundMessageType={})).bodyContentChange="BODY_CONTENT_CHANGE",$e.priorConsent="PRIOR_CONSENT",$e.consentChanged="CONSENT_CHANGED",$e.updateDefaultNonCcpa="UPDATE_DEFAULT_NON_CCPA",$e.dnsEnabled="DNS_ENABLED",$e.dnsDisabled="DNS_DISABLED",$e.ccpaCookieFaqClick="CCPA_COOKIE_FAQ_CLICK",$e.ccpaPrivacyPageClick="CCPA_PRIVACY_PAGE_CLICK",$e.ccpaPrivacyPolicyFaqClick="CCPA_PRIVACY_POLICY_FAQ_CLICK",$e.ccpaIframeLoad="CCPA_IFRAME_LOAD",$e.ccpaIframeError="CCPA_IFRAME_ERROR",$e.csrfHandshakeStart="CSRF_HANDSHAKE_START",$e.dnsEmailValid="DNS_EMAIL_VALID",$e.dnsEmailInvalid="DNS_EMAIL_INVALID",$e.dnsPendingEnabled="DNS_PENDING_ENABLED",$e.dnsPendingDisabled="DNS_PENDING_DISABLED",$e.logConsentValues="LOG_CONSENT_VALUES",$e.ccpaIframeResize="CCPA_IFRAME_RESIZE",$e.displayStateChange="DISPLAY_STATE_CHANGE",$e.iframeBannerCheck="IFRAME_BANNER_CHECK";const Xe=({error:e,severity:n=r.SEVERITY.CRITICAL,tags:t=[],extra:o})=>{r.reportException({err:e,severity:n,tags:["privacy_consent","ccpa_iframe",...t],exc_extra:o?{privacy_consent:o}:{}})},Ze=["dev.corp.dropbox.com","os.dropbox.com","replay.dropbox.com"];n.CCPA_IFRAME_ID="ccpa-iframe",n.CCPA_IFRAME_PORTAL_CLASS="ccpa-iframe-portal",n.CCPA_IFRAME_THEME_PROVIDER_ID="ccpa-iframe-theme-provider",n.MANAGE_COOKIES_LINK_TAG="#manage-cookies",n.NOISY_ERROR_SUBSTRINGS_PAIRS={network:["Failed to fetch","NetworkError when attempting to fetch resource","[unknown] network error","Connection timed out"],transient:["desc = CANCELLED","error from prefetch auth rpc before prefetching","403 Forbidden","[canceled]","err_please_try_again_later","[permission_denied]"],backend:["desc = Deadline Exceeded","Deadline Exceeded Traceback","Request failed due to internal panda error"],concurrency:["Concurrency limit exceeded"]},n.PrivacyConsentEdisonPrefetchService=X,n.PrivacyConsentPlatform=Ye,n.PrivacyConsentStats=se,n.getUriForLogging=()=>{const e=window.location.pathname,n=window.location.hostname.replace(/^www\./,"");return je.includes(e)?n+e:n},n.initialize_module=function(n,t=!0){try{o.UDCL.logEvent("privacy_consent/edison",{tags:{server:i.isServedByEdisonWebServer()?"edison":"dws"}})}catch(e){We({error:e,severity:r.SEVERITY.NONCRITICAL,tags:["udcl"],extra:{isInIframe:t}})}return o.fetchLocaleConstants(l.queryClient).then((({apiData:e})=>e.localesWithoutInternal)).then((o=>{if(!Ye.config){const a=!(e=>be.some((e=>window.location.pathname.includes(e)))||Be(e))(o),s=((e,n)=>{var t,o,a;let r;const s=null===(a=null===(o=null===(t=Ve.dropbox)||void 0===t?void 0:t.privacyConsent)||void 0===o?void 0:o.desktop)||void 0===a?void 0:a.disableBanner;if(null==n||0===n){const e=i.getActiveUserId();r=void 0!==e&&0!==e}else r=n===u.LOGGED_IN;return r&&Be(e)||!!s})(o,n.loggedInState);Ye.init(n,{onBannerVisible:qe,onBannerNotVisible:qe,disableBanner:s,consentChangedCallback:async(n,o)=>{await(async n=>{let t;try{t=await new Promise((function(n,t){e(["./c_ui_component_load_contentsquare"],n,t)})).then((function(e){return e.load_contentsquare_esnext})),t.loadContentsquare(n)}catch(e){We({error:new Error("loadContentsquare not available in Contentsquare"),severity:r.SEVERITY.NONCRITICAL,tags:["contentsquare"],extra:{contentsquare:JSON.stringify(t),loadContentSquare:!!(null==t?void 0:t.loadContentsquare),newCategories:n}})}})(n).catch((e=>{He(e,t)})),Fe(n).catch((e=>{He(e,t)})),Ke(!0,o)},priorConsentCallback:async(e,n)=>{Fe(e).catch((e=>{He(e,t)})),Ke(n,!0)},injectFloatingButton:a,injectToFooter:!0,getManualReEntryProvided:()=>s&&!a&&!1,locale:i.getPageLocale()},t)}return Ye}))},n.isCrossOrigin=e=>{const t=e.get(n.QueryParam.CsrfOrigin);return null!==t&&!String(t).endsWith(".dropbox.com")},n.prefetchPrivacyConsentProps=async function(){return await t.Edison.fetch(Z,"PrivacyConsentPropsPrefetch")},n.reportException=Xe,n.reportException$1=We,n.useTheme=e=>{try{const n=d.useStorageDarkSetting(),t=new URL(e).hostname;let o;o=n===d.DarkSetting.OS?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"bright":n===d.DarkSetting.Dark?"dark":"bright";return"www.dropbox.com"===t||Ze.some((e=>t.endsWith(e)))?o:"bright"}catch(e){return Xe({error:e,severity:r.SEVERITY.NONCRITICAL,tags:["ccpa_iframe"]}),"bright"}}}));
//# sourceMappingURL=c_privacy_consent_utils.js-vflVfDZV4.map

//# debugId=641b0b96-89ee-3c4d-9e22-446eea17d3a6