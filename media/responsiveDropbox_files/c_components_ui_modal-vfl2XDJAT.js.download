!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="661c1fbf-c2b1-3588-aaad-f50d6e2aca10")}catch(e){}}();
define(["exports","./e_warp_warp_page_edison","./c_prop-types_index","./c_core_notify","react","react-dom","./c_ts-key-enum_js_Key","./c_components_ui_modal_controller","./c_api_v2_default_team_client","./e_core_exception","./c_core_i18n"],(function(t,e,s,o,a,i,n,r,l,p,d){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(s){if("default"!==s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}})),e.default=t,Object.freeze(e)}var m=c(a),h=u(i);const y=t=>{const s={};"styleless"!==t.importance&&(s["button-"+t.importance]=!0),s["button-"+t.variant]=null!=t.variant&&"standard"!==t.variant,null!=t.className&&(s[t.className]=!0);const{importance:o,variant:a,...i}=t;return i.className=e.cx(s),i};class f extends m.default.Component{render(){return m.default.createElement("button",{...(t=this.props,y(t))},this.props.children);var t}}f.defaultProps={importance:"primary"},f.displayName="Button";class b extends m.default.Component{render(){return m.default.createElement("a",{...(t=this.props,y(t))},this.props.children);var t}}b.defaultProps={importance:"primary"},b.displayName="LinkButton";class _ extends m.default.Component{constructor(t){super(t),this.modalRef=m.default.createRef(),this.close=()=>{r.unmountModal(this.elementToFocusOnClose instanceof HTMLElement?this.elementToFocusOnClose:void 0)},this._invokeCallbackAndClose=(t,e,s)=>{v(t,"call",(t=>t.call(this,e))),e.defaultPrevented||(this.props.autoClose||s)&&this.close()},this._dismiss=t=>{this._invokeCallbackAndClose(this.props.onDismiss,t,!0),v(this.props.onDismissCompleted,"call",(e=>e.call(this,t)))},this._accept=t=>{this._invokeCallbackAndClose(this.props.onAccept,t,!1)},this._onClickOnOverlay=t=>{this.props.clickOutToClose&&this._dismiss(t)},this._focus=()=>{this.elementToFocusOnClose=document.activeElement;let t=this.modalRef.current;if(null!==t){if(this.props.autoFocusPrimaryInput){const e=t.querySelector("input:not(:disabled)"),s=null!=this.refs.primaryButton&&h.findDOMNode(this.refs.primaryButton),o=null!=this.refs.tertiaryButton&&h.findDOMNode(this.refs.tertiaryButton);e?t=e:s&&!s.disabled?t=s:o&&!o.disabled&&(t=o)}t.focus()}},this._keyDown=t=>{if(this.props.stopKeyDownEventPropagation&&t.stopPropagation(),t.key===n.Key_enum.Key.Escape&&this.props.escapeOrBackspaceToClose&&this._dismiss(t),t.key!==n.Key_enum.Key.Backspace||l.focus_in_input()||(t.preventDefault(),this.props.escapeOrBackspaceToClose&&this._dismiss(t)),this.props.onKeyDown&&this.props.onKeyDown(t),null!==this.modalRef.current)return l.keepFocusIn(this.modalRef.current,this.modalRef.current,t)},this._trackingId=t=>null!=this.props.trackingIdPrefix?`${this.props.trackingIdPrefix}-${t}`:null,this._renderAcceptButton=()=>m.default.createElement(f,{ref:"primaryButton",key:"primary",className:"dbmodal-button","data-trackingid":this._trackingId("accept"),importance:this.props.acceptButtonImportance,disabled:this.props.acceptButtonDisabled,onClick:this._accept},this.props.acceptButtonText),this._renderDismissButton=()=>m.default.createElement(f,{ref:"tertiaryButton",key:"tertiary-dismiss",className:"dbmodal-button","data-trackingid":this._trackingId("dismiss"),importance:this.props.dismissButtonImportance,disabled:this.props.dismissButtonDisabled,onClick:this._dismiss},this.props.dismissButtonText),this._renderHelpLink=()=>m.default.createElement("div",{className:"dbmodal-extra-link-button"},this.props.helpLink),this._renderButtons=()=>{if(this.props.buttonComponent)return this.props.buttonComponent;const t=[];return this.props.submitting&&t.push(m.default.createElement("span",{className:"dbmodal-loading",key:"loading"},m.default.createElement("img",{src:o.static_url("/static/metaserver/static/images/icons/ajax-loading-small-vfl3Wt7C_.gif"),alt:d.intl.formatMessage({id:"jybGUg",defaultMessage:"Loading"})}))),"default-maestro"===this.props.style?(this.props.dismissButtonText&&t.push(this._renderDismissButton()),this.props.acceptButtonText&&t.push(this._renderAcceptButton())):(this.props.acceptButtonText&&t.push(this._renderAcceptButton()),this.props.dismissButtonText&&t.push(this._renderDismissButton()),this.props.helpLink&&t.push(this._renderHelpLink())),t.length?m.default.createElement("div",{className:"db-modal-buttons"},this.props.showButtonDivider?m.default.createElement("hr",null):void 0,t):null},this._renderAltAction=()=>this.props.altAction?m.default.createElement("div",{className:"db-modal__alt-action"},this.props.altAction):null,this._preventEventBubbling=t=>{t.stopPropagation()},this.state={didCssLoad:!1}}static showInstance(t,e,s){return r.mountModal(t,e,s)}static isModalDisplayed(){return r.isModalDisplayed()}static close(t,e){r.unmountModal(t,e)}static unhide(){r.showModal()}componentDidMount(){var t,s;e.dispatchModalOpened(),l.scroll_lock_document(),null===(t=this.modalRef.current)||void 0===t||t.addEventListener("keydown",this._keyDown),null===(s=this.modalRef.current)||void 0===s||s.addEventListener("keypress",this._preventEventBubbling),this._focus(),"function"==typeof this.props.onShow&&this.props.onShow()}UNSAFE_componentWillMount(){this.props.shouldLoadCss&&o.require_css("/static/metaserver/static/css/modal-vfl2ug2Ll.css",(()=>{this.setState({didCssLoad:!0}),this._focus()}),(()=>{p.reportStack("modal css not properly loaded",{severity:p.SEVERITY.CRITICAL}),o.Notify.error(d.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."}))}))}componentWillUnmount(){var t,s;e.dispatchModalClosed(),l.scroll_unlock_document(),null===(t=this.modalRef.current)||void 0===t||t.removeEventListener("keydown",this._keyDown),null===(s=this.modalRef.current)||void 0===s||s.removeEventListener("keypress",this._preventEventBubbling)}render(){const t={"db-modal-wrapper":!0,"uxa-modal":!0,"clean-react-modal":!0,"db-modal--clean-style":"clean"===this.props.style,"db-modal--simple-style":"simple"===this.props.style,"db-modal--lightbox-style":"lightbox"===this.props.style,"db-modal--bare-style":"bare"===this.props.style,"db-modal--default-maestro-style":"default-maestro"===this.props.style,"db-modal--cancel-style":"cancel"===this.props.style,"db-modal--cancel-confirmation-style":"cancel-confirmation"===this.props.style};this.props.className&&(t[this.props.className]=!0);const s=e.cx(t),o=e.getModalId({id:this.props.id,className:this.props.className}),a=this.props.width?{width:this.props.width+"px"}:{},i=!this.props.shouldLoadCss||this.props.shouldLoadCss&&this.state.didCssLoad?void 0:{display:"none"};return m.default.createElement("div",{id:o,className:s,style:i,"data-testid":this.props["data-testid"]},m.default.createElement("div",{className:"db-modal-overlay",onClick:this._onClickOnOverlay}),m.default.createElement("div",{ref:this.modalRef,className:"db-modal",tabIndex:-1,style:a,role:"dialog","aria-labelledby":"lightbox"===this.props.style?"":this.props.headerId},m.default.createElement("div",{className:"db-modal-box",ref:"modalBox"},["lightbox","bare"].includes(this.props.style)?m.default.createElement("div",{className:`db-modal-${this.props.style}`},this.props.children):m.default.createElement("div",null,!this.props.showX||"default-maestro"===this.props.style&&"change-email-modal--maestro"!==this.props.className?void 0:m.default.createElement("button",{className:"db-modal-x",onClick:this._dismiss,"aria-label":d.intl.formatMessage({id:"u/p3Pl",defaultMessage:"Close"}),"data-trackingid":this._trackingId("dismiss")}),this.props.title?m.default.createElement("h1",{id:"db-modal-title",className:"db-modal-title"},m.default.createElement("div",{className:"db-modal-title-text",ref:"title"},this.props.title)):null,m.default.createElement("div",{className:"db-modal-content clearfix",ref:"content"},this.props.children,this._renderButtons(),this._renderAltAction())))))}}_.displayName="Modal",_.propTypes={id:s.PropTypes.string,width:s.PropTypes.number,submitting:s.PropTypes.bool,title:s.PropTypes.oneOfType([s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.element]),s.PropTypes.arrayOf(s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.element]))]),acceptButtonText:s.PropTypes.string,dismissButtonText:s.PropTypes.string,acceptButtonImportance:s.PropTypes.string,dismissButtonImportance:s.PropTypes.string,altAction:s.PropTypes.node,trackingIdPrefix:s.PropTypes.string,headerId:s.PropTypes.string,onAccept:s.PropTypes.func,onDismiss:s.PropTypes.func,onDismissCompleted:s.PropTypes.func,onShow:s.PropTypes.func,onKeyDown:s.PropTypes.func,buttonComponent:s.PropTypes.element,autoClose:s.PropTypes.bool,clickOutToClose:s.PropTypes.bool,showX:s.PropTypes.bool,escapeOrBackspaceToClose:s.PropTypes.bool,showButtonDivider:s.PropTypes.bool,acceptButtonDisabled:s.PropTypes.bool,dismissButtonDisabled:s.PropTypes.bool,autoFocusPrimaryInput:s.PropTypes.bool,style:s.PropTypes.oneOf(["default","default-maestro","clean","simple","lightbox","bare","cancel","cancel-confirmation"]),setMaxHeight:s.PropTypes.bool,className:s.PropTypes.string,shouldLoadCss:s.PropTypes.bool,stopKeyDownEventPropagation:s.PropTypes.bool,helpLink:s.PropTypes.oneOfType([s.PropTypes.string,s.PropTypes.element]),"data-testid":s.PropTypes.string},_.defaultProps={acceptButtonText:d.intl.formatMessage({id:"nOO9Qi",defaultMessage:"OK"}),acceptButtonImportance:"primary",dismissButtonImportance:"tertiary",dismissButtonText:null,buttonComponent:null,headerId:"db-modal-title",onAccept(){},onDismiss(){},onShow(){},autoClose:!0,clickOutToClose:!0,style:"default",showX:!0,escapeOrBackspaceToClose:!0,acceptButtonDisabled:!1,dismissButtonDisabled:!1,autoFocusPrimaryInput:!0,shouldLoadCss:!0,stopKeyDownEventPropagation:!0};class T extends m.default.Component{render(){const t={};for(const e in this.props){const s=this.props[e];t[e]=s}return t.className=e.cx(this.props.className,"db-modal-buttons"),m.default.createElement("div",{...t})}}T.displayName="ModalButtons";class g extends m.default.Component{render(){const t={};for(const e in this.props){const s=this.props[e];t[e]=s}return"button-as-link skip-link"===this.props.className?t.className=this.props.className:t.className=e.cx(this.props.className,"dbmodal-button",`button-${this.props.importance}`),m.default.createElement("button",{...t})}}function v(t,e,s){return null!=t&&"function"==typeof t[e]?s(t,e):void 0}g.displayName="ModalButton",g.propTypes={importance:s.PropTypes.oneOf(["primary","secondary","tertiary"])},g.defaultProps={importance:"primary"},t.Modal=_}));
//# sourceMappingURL=c_components_ui_modal.js-vfl4v9_bT.map

//# debugId=661c1fbf-c2b1-3588-aaad-f50d6e2aca10